{
  "hash": "3bc1c7da74189a619958dff02a374da9",
  "result": {
    "markdown": "---\ntitle: \"HW3\"\nauthor: \"Karla Barrett-Dexter\"\ndesription: \"Millenial Migration Patterns\"\ndate: \"12/11/2022\"\nformat:\n  html:\n    toc: true\n    code-fold: true\n    code-copy: true\n    code-tools: true\n    df-print: paged\ncategories:\n  - hw3\n  - Karla Barrett-Dexter\n  - Millenial Migration Data\n---\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\n\nknitr::opts_chunk$set(echo = TRUE)\n```\n:::\n\n\n## Read in the data\n\n\n::: {.cell}\n\n```{.r .cell-code}\nMillenialMigration <- read_csv(\"od.csv\")\n```\n\n::: {.cell-output .cell-output-error}\n```\nError: 'od.csv' does not exist in current working directory ('C:/Users/srika/OneDrive/Documents/data/DACSS/601_Fall_2022/posts').\n```\n:::\n\n```{.r .cell-code}\nMillenialMigration\n```\n\n::: {.cell-output .cell-output-error}\n```\nError in eval(expr, envir, enclos): object 'MillenialMigration' not found\n```\n:::\n:::\n\n## Tidy Data\nAs a continuation from HW2, I renamed the columns again for ease of understanding and additionally, I separated the race/parental column and created two separate columns for each variable because I was interested in exploring these data points independently of each other. \n\n\n::: {.cell}\n\n```{.r .cell-code}\n#Changed column names for ease of understanding\nMillenialMigration <- MillenialMigration %>%\n  rename(Origin_Zone = o_cz,\n         Origin_City = o_cz_name,\n         Origin_State = o_state_name,\n         Dest_Zone = d_cz,\n         Dest_City = d_cz_name,\n         Dest_State = d_state_name,\n         Num_Migrators = n,\n         N_from_Origin = n_tot_o,\n         N_from_Dest = n_tot_d,\n         Race_ParentalIncome = pool)\n```\n\n::: {.cell-output .cell-output-error}\n```\nError in rename(., Origin_Zone = o_cz, Origin_City = o_cz_name, Origin_State = o_state_name, : object 'MillenialMigration' not found\n```\n:::\n\n```{.r .cell-code}\nMillenialMigration\n```\n\n::: {.cell-output .cell-output-error}\n```\nError in eval(expr, envir, enclos): object 'MillenialMigration' not found\n```\n:::\n\n```{.r .cell-code}\n#I wanted to separate the Race and Parental Income data, in order to analyze the data separately in future iterations. I could not figure out a way to separate the two  without putting a character in between. I used the following code to update the Race_ParentalIncome column to have an underscore in it. This was probably  not the most efficient way to accomplish this outcome and it took me quite a while to get the code right. \nMillenialMigration_ <- MillenialMigration %>%\n  mutate(Race_ParentalIncome = stringr::str_replace(Race_ParentalIncome, \"AsianQ1\", \"Asian_Q1\"))%>%\n  mutate(Race_ParentalIncome = stringr::str_replace(Race_ParentalIncome, \"AsianQ2\", \"Asian_Q2\"))%>%\n  mutate(Race_ParentalIncome = stringr::str_replace(Race_ParentalIncome, \"AsianQ3\", \"Asian_Q3\"))%>%\n  mutate(Race_ParentalIncome = stringr::str_replace(Race_ParentalIncome, \"AsianQ4\", \"Asian_Q4\"))%>%\n  mutate(Race_ParentalIncome = stringr::str_replace(Race_ParentalIncome, \"AsianQ5\", \"Asian_Q5\"))%>%\n  mutate(Race_ParentalIncome = stringr::str_replace(Race_ParentalIncome, \"BlackQ1\", \"Black_Q1\"))%>%\n  mutate(Race_ParentalIncome = stringr::str_replace(Race_ParentalIncome, \"BlackQ2\", \"Black_Q2\"))%>%\n  mutate(Race_ParentalIncome = stringr::str_replace(Race_ParentalIncome, \"BlackQ3\", \"Black_Q3\"))%>%\n  mutate(Race_ParentalIncome = stringr::str_replace(Race_ParentalIncome, \"BlackQ4\", \"Black_Q4\"))%>%\n  mutate(Race_ParentalIncome = stringr::str_replace(Race_ParentalIncome, \"BlackQ5\", \"Black_Q5\"))%>%\n  mutate(Race_ParentalIncome = stringr::str_replace(Race_ParentalIncome, \"HispanicQ1\", \"Hispanic_Q1\"))%>%\n  mutate(Race_ParentalIncome = stringr::str_replace(Race_ParentalIncome, \"HispanicQ2\", \"Hispanic_Q2\"))%>%\n  mutate(Race_ParentalIncome = stringr::str_replace(Race_ParentalIncome, \"HispanicQ3\", \"Hispanic_Q3\"))%>%\n  mutate(Race_ParentalIncome = stringr::str_replace(Race_ParentalIncome, \"HispanicQ4\", \"Hispanic_Q4\"))%>%\n  mutate(Race_ParentalIncome = stringr::str_replace(Race_ParentalIncome, \"HispanicQ5\", \"Hispanic_Q5\"))%>%\n  mutate(Race_ParentalIncome = stringr::str_replace(Race_ParentalIncome, \"OtherQ1\", \"Other_Q1\"))%>%\n  mutate(Race_ParentalIncome = stringr::str_replace(Race_ParentalIncome, \"OtherQ2\", \"Other_Q2\"))%>%\n  mutate(Race_ParentalIncome = stringr::str_replace(Race_ParentalIncome, \"OtherQ3\", \"Other_Q3\"))%>%\n  mutate(Race_ParentalIncome = stringr::str_replace(Race_ParentalIncome, \"OtherQ4\", \"Other_Q4\"))%>%\n  mutate(Race_ParentalIncome = stringr::str_replace(Race_ParentalIncome, \"OtherQ5\", \"Other_Q5\"))%>%\n  mutate(Race_ParentalIncome = stringr::str_replace(Race_ParentalIncome, \"WhiteQ1\", \"White_Q1\"))%>%\n  mutate(Race_ParentalIncome = stringr::str_replace(Race_ParentalIncome, \"WhiteQ2\", \"White_Q2\"))%>%\n  mutate(Race_ParentalIncome = stringr::str_replace(Race_ParentalIncome, \"WhiteQ3\", \"White_Q3\"))%>%\n  mutate(Race_ParentalIncome = stringr::str_replace(Race_ParentalIncome, \"WhiteQ4\", \"White_Q4\"))%>%\n  mutate(Race_ParentalIncome = stringr::str_replace(Race_ParentalIncome, \"WhiteQ5\", \"White_Q5\"))\n```\n\n::: {.cell-output .cell-output-error}\n```\nError in mutate(., Race_ParentalIncome = stringr::str_replace(Race_ParentalIncome, : object 'MillenialMigration' not found\n```\n:::\n\n```{.r .cell-code}\n#I used the following code to check my work\nMigratorsByRace_Income <- MillenialMigration_ %>%\n  group_by(Race_ParentalIncome) %>%\n  summarise(Freq = sum(Num_Migrators))\n```\n\n::: {.cell-output .cell-output-error}\n```\nError in group_by(., Race_ParentalIncome): object 'MillenialMigration_' not found\n```\n:::\n\n```{.r .cell-code}\nprint(n=30, MigratorsByRace_Income)\n```\n\n::: {.cell-output .cell-output-error}\n```\nError in print(n = 30, MigratorsByRace_Income): object 'MigratorsByRace_Income' not found\n```\n:::\n\n```{.r .cell-code}\n#The following code was used to separate the column and create two new columns, one for Race and one for Parental Income. \nMillenialMigration_Sep <- separate(MillenialMigration_, Race_ParentalIncome, into = c(\"Race\", \"Parental_Income\"), sep = \"_\")\n```\n\n::: {.cell-output .cell-output-error}\n```\nError in separate(MillenialMigration_, Race_ParentalIncome, into = c(\"Race\", : object 'MillenialMigration_' not found\n```\n:::\n\n```{.r .cell-code}\nMillenialMigration_Sep\n```\n\n::: {.cell-output .cell-output-error}\n```\nError in eval(expr, envir, enclos): object 'MillenialMigration_Sep' not found\n```\n:::\n:::\n\n## Narrative\nThis dataset show migrations patterns for people born between the years 1984 and 1992. I found the dataset through data-is-plural.com, which led me to migrationpatterns.org, where I downloaded the data from. The data was originally taken from the US Census, tax, and HUD information. The origin zone, city, and state is the location of an individual at age 16 and the destination commute zone, city, and state is the location of an individual at age 26. The dataset also includes information on race/ethnicity and parental income. \n\n## Descriptive Statistics\nI found the mean, median, and standard deviation for each numerical variable and the frequencies for each categorical variable, which I found more interesting to keep exploring. \n\nThe same 10 states experienced the most migration in and out:\nCA\nTX\nNY\nFL\nPA\nOH\nIL\nGA\nNC\nMI\n\nCalifornia was the top state for both migration in and out.\n\n\n::: {.cell}\n\n```{.r .cell-code}\n#Mean, median, and standard deviation for numerical variables\nsummarise(MillenialMigration_Sep, mean.TotalMigrators=mean(Num_Migrators, na.rm=TRUE), mean.NfromOrigin=mean(N_from_Origin, na.rm=TRUE), mean.NFromDest=mean(N_from_Dest, na.rm=TRUE))\n```\n\n::: {.cell-output .cell-output-error}\n```\nError in summarise(MillenialMigration_Sep, mean.TotalMigrators = mean(Num_Migrators, : object 'MillenialMigration_Sep' not found\n```\n:::\n\n```{.r .cell-code}\nsummarise(MillenialMigration_Sep, median.TotalMigrators=median(Num_Migrators, na.rm=TRUE), median.NfromOrigin=median(N_from_Origin, na.rm=TRUE), median.NFromDest=median(N_from_Dest, na.rm=TRUE))\n```\n\n::: {.cell-output .cell-output-error}\n```\nError in summarise(MillenialMigration_Sep, median.TotalMigrators = median(Num_Migrators, : object 'MillenialMigration_Sep' not found\n```\n:::\n\n```{.r .cell-code}\nsummarise(MillenialMigration_Sep, SD.TotalMigrators=sd(Num_Migrators, na.rm=TRUE), sd.NfromOrigin=sd(N_from_Origin, na.rm=TRUE), sd.NFromDest=sd(N_from_Dest, na.rm=TRUE))\n```\n\n::: {.cell-output .cell-output-error}\n```\nError in summarise(MillenialMigration_Sep, SD.TotalMigrators = sd(Num_Migrators, : object 'MillenialMigration_Sep' not found\n```\n:::\n\n```{.r .cell-code}\n#Frequencies for categorical variables\nMigration_DestCityState <- MillenialMigration_Sep %>%\n  group_by(Dest_State, Dest_City) %>%\n  summarise(Num_Migrators = sum(Num_Migrators))\n```\n\n::: {.cell-output .cell-output-error}\n```\nError in group_by(., Dest_State, Dest_City): object 'MillenialMigration_Sep' not found\n```\n:::\n\n```{.r .cell-code}\nMigration_DestCityState\n```\n\n::: {.cell-output .cell-output-error}\n```\nError in eval(expr, envir, enclos): object 'Migration_DestCityState' not found\n```\n:::\n\n```{.r .cell-code}\nMigration_DestState <- MillenialMigration_Sep %>%\n  group_by(Dest_State) %>%\n  summarise(Num_Migrators = sum(Num_Migrators))\n```\n\n::: {.cell-output .cell-output-error}\n```\nError in group_by(., Dest_State): object 'MillenialMigration_Sep' not found\n```\n:::\n\n```{.r .cell-code}\nMigration_DestState <- Migration_DestState %>% arrange(desc(Num_Migrators))\n```\n\n::: {.cell-output .cell-output-error}\n```\nError in arrange(., desc(Num_Migrators)): object 'Migration_DestState' not found\n```\n:::\n\n```{.r .cell-code}\nMigration_OriginCityState <-MillenialMigration_Sep %>%\n  group_by(Origin_State, Origin_City) %>%\n  summarise(Num_Migrators = sum(Num_Migrators))\n```\n\n::: {.cell-output .cell-output-error}\n```\nError in group_by(., Origin_State, Origin_City): object 'MillenialMigration_Sep' not found\n```\n:::\n\n```{.r .cell-code}\nMigration_OriginCityState\n```\n\n::: {.cell-output .cell-output-error}\n```\nError in eval(expr, envir, enclos): object 'Migration_OriginCityState' not found\n```\n:::\n\n```{.r .cell-code}\nMigration_OriginState <- MillenialMigration_Sep %>%\n  group_by(Origin_State) %>%\n  summarise(Num_Migrators = sum(Num_Migrators))\n```\n\n::: {.cell-output .cell-output-error}\n```\nError in group_by(., Origin_State): object 'MillenialMigration_Sep' not found\n```\n:::\n\n```{.r .cell-code}\nMigration_OriginState <- Migration_OriginState %>% arrange(desc(Num_Migrators))\n```\n\n::: {.cell-output .cell-output-error}\n```\nError in arrange(., desc(Num_Migrators)): object 'Migration_OriginState' not found\n```\n:::\n\n```{.r .cell-code}\nMigratorsByIncome <- MillenialMigration_Sep %>%\n  group_by(Parental_Income) %>%\n  summarise(Num_Migrators= sum(Num_Migrators))\n```\n\n::: {.cell-output .cell-output-error}\n```\nError in group_by(., Parental_Income): object 'MillenialMigration_Sep' not found\n```\n:::\n\n```{.r .cell-code}\nMigratorsByIncome\n```\n\n::: {.cell-output .cell-output-error}\n```\nError in eval(expr, envir, enclos): object 'MigratorsByIncome' not found\n```\n:::\n\n```{.r .cell-code}\nMigratorsByRace <- MillenialMigration_Sep %>%\n  group_by(Race) %>%\n  summarise(Num_Migrators= sum(Num_Migrators))\n```\n\n::: {.cell-output .cell-output-error}\n```\nError in group_by(., Race): object 'MillenialMigration_Sep' not found\n```\n:::\n\n```{.r .cell-code}\nMigratorsByRace\n```\n\n::: {.cell-output .cell-output-error}\n```\nError in eval(expr, envir, enclos): object 'MigratorsByRace' not found\n```\n:::\n\n```{.r .cell-code}\nMigration_DestAndOriginState <- MillenialMigration_Sep %>%\n  group_by(Dest_State, Origin_State) %>%\n  summarise(Num_Migrators = sum(Num_Migrators))\n```\n\n::: {.cell-output .cell-output-error}\n```\nError in group_by(., Dest_State, Origin_State): object 'MillenialMigration_Sep' not found\n```\n:::\n:::\n\n\n## Visualizations\nI made two simple point plots and bar graphs to look at the total number of migrators by parental income quintile and race. The two key takeaways are that the highest number of migrators were white and in the highest income quartile. \n\nI also created a plot point to show the total number of migrators to and from each state. This graph is not all that useful and I will continue to consider how it can be improved. \n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n#I used the following to create simple point plot for number of migrators by income and race\nggplot(MigratorsByIncome, aes(Parental_Income, Num_Migrators)) + geom_point(color=\"blue\", shape=0) + labs(title = \"Migrators by Income\")\n```\n\n::: {.cell-output .cell-output-error}\n```\nError in ggplot(MigratorsByIncome, aes(Parental_Income, Num_Migrators)): object 'MigratorsByIncome' not found\n```\n:::\n\n```{.r .cell-code}\nggplot(data = MigratorsByIncome)+\n  geom_bar(mapping = aes(x = Parental_Income, y = Num_Migrators, fill=Parental_Income), stat = \"identity\")+ labs(title = \"Migrators by Income\")\n```\n\n::: {.cell-output .cell-output-error}\n```\nError in ggplot(data = MigratorsByIncome): object 'MigratorsByIncome' not found\n```\n:::\n\n```{.r .cell-code}\nggplot(MigratorsByRace, aes(Race, Num_Migrators)) + geom_point() + labs(title = \"Migrators by Race\")\n```\n\n::: {.cell-output .cell-output-error}\n```\nError in ggplot(MigratorsByRace, aes(Race, Num_Migrators)): object 'MigratorsByRace' not found\n```\n:::\n\n```{.r .cell-code}\nggplot(data = MigratorsByRace)+\n  geom_bar(mapping = aes(x = Race, y = Num_Migrators, fill=Race), stat = \"identity\")+ labs(title = \"Migrators by Race\")\n```\n\n::: {.cell-output .cell-output-error}\n```\nError in ggplot(data = MigratorsByRace): object 'MigratorsByRace' not found\n```\n:::\n\n```{.r .cell-code}\n#I used the following code to create a new table with the total migrators in (dest) and out (origin) of each state\nMigration_OriginState <- Migration_OriginState %>%\n  rename(Num_MigratorsOut = Num_Migrators,\n         State = Origin_State)\n```\n\n::: {.cell-output .cell-output-error}\n```\nError in rename(., Num_MigratorsOut = Num_Migrators, State = Origin_State): object 'Migration_OriginState' not found\n```\n:::\n\n```{.r .cell-code}\nMigration_DestState <- Migration_DestState %>% \n  rename(Num_Migrators_In = Num_Migrators,\n         State = Origin_State)\n```\n\n::: {.cell-output .cell-output-error}\n```\nError in rename(., Num_Migrators_In = Num_Migrators, State = Origin_State): object 'Migration_DestState' not found\n```\n:::\n\n```{.r .cell-code}\nMigration_In_And_Out <- inner_join(Migration_OriginState, Migration_DestState, by=\"State\")\n```\n\n::: {.cell-output .cell-output-error}\n```\nError in inner_join(Migration_OriginState, Migration_DestState, by = \"State\"): object 'Migration_OriginState' not found\n```\n:::\n\n```{.r .cell-code}\nMigration_In_And_Out\n```\n\n::: {.cell-output .cell-output-error}\n```\nError in eval(expr, envir, enclos): object 'Migration_In_And_Out' not found\n```\n:::\n\n```{.r .cell-code}\n#I used the following code to create a point plot to compare the number of migrators going in and out of each state\nggplot(Migration_In_And_Out, aes(Num_MigratorsOut, Num_Migrators_In)) + geom_point(mapping = aes(color=State))\n```\n\n::: {.cell-output .cell-output-error}\n```\nError in ggplot(Migration_In_And_Out, aes(Num_MigratorsOut, Num_Migrators_In)): object 'Migration_In_And_Out' not found\n```\n:::\n:::\n\n## Groupings\nI decided to further explore the migration patterns for California, as it was the state that saw the most movement in and out. I looked at the migration by Race and found that White and Hispanic people migrated the most, with a slight variation between in (White more in) and out (Hispanic more out).\n\n\n::: {.cell}\n\n```{.r .cell-code}\nMillenialMigration_CA <- MillenialMigration_Sep %>%\n  filter(`Dest_State`== \"California\")\n```\n\n::: {.cell-output .cell-output-error}\n```\nError in filter(., Dest_State == \"California\"): object 'MillenialMigration_Sep' not found\n```\n:::\n\n```{.r .cell-code}\nMillenialMigration_to_CA <- MillenialMigration_CA\n```\n\n::: {.cell-output .cell-output-error}\n```\nError in eval(expr, envir, enclos): object 'MillenialMigration_CA' not found\n```\n:::\n\n```{.r .cell-code}\nMillenialMigration_from_CA <- MillenialMigration_Sep %>%filter(`Origin_State`== \"California\")\n```\n\n::: {.cell-output .cell-output-error}\n```\nError in filter(., Origin_State == \"California\"): object 'MillenialMigration_Sep' not found\n```\n:::\n\n```{.r .cell-code}\nCA_Migrators_By_Race_To <- MillenialMigration_to_CA %>%\n  group_by(Race) %>%\n  summarise(Num.Migrators.To.CA = sum(Num_Migrators))\n```\n\n::: {.cell-output .cell-output-error}\n```\nError in group_by(., Race): object 'MillenialMigration_to_CA' not found\n```\n:::\n\n```{.r .cell-code}\nCA_Migrators_By_Race_From <- MillenialMigration_from_CA %>%\n  group_by(Race) %>%\n  summarise(Num.Migrators.From.CA = sum(Num_Migrators))\n```\n\n::: {.cell-output .cell-output-error}\n```\nError in group_by(., Race): object 'MillenialMigration_from_CA' not found\n```\n:::\n\n```{.r .cell-code}\nCA_Migrators_By_Race_From\n```\n\n::: {.cell-output .cell-output-error}\n```\nError in eval(expr, envir, enclos): object 'CA_Migrators_By_Race_From' not found\n```\n:::\n\n```{.r .cell-code}\nCA_Migrators_By_Race_To\n```\n\n::: {.cell-output .cell-output-error}\n```\nError in eval(expr, envir, enclos): object 'CA_Migrators_By_Race_To' not found\n```\n:::\n\n```{.r .cell-code}\nCA_Migration_In_And_Out <- inner_join(CA_Migrators_By_Race_To, CA_Migrators_By_Race_From, by=\"Race\")\n```\n\n::: {.cell-output .cell-output-error}\n```\nError in inner_join(CA_Migrators_By_Race_To, CA_Migrators_By_Race_From, : object 'CA_Migrators_By_Race_To' not found\n```\n:::\n\n```{.r .cell-code}\nCA_Migration_In_And_Out\n```\n\n::: {.cell-output .cell-output-error}\n```\nError in eval(expr, envir, enclos): object 'CA_Migration_In_And_Out' not found\n```\n:::\n\n```{.r .cell-code}\nggplot(data = CA_Migration_In_And_Out)+\n  geom_bar(mapping = aes(x = Race, y = Num.Migrators.To.CA, fill=Race), stat = \"identity\")+ labs(title = \"Migrators to CA by Race\")\n```\n\n::: {.cell-output .cell-output-error}\n```\nError in ggplot(data = CA_Migration_In_And_Out): object 'CA_Migration_In_And_Out' not found\n```\n:::\n\n```{.r .cell-code}\nggplot(data = CA_Migration_In_And_Out)+\n  geom_bar(mapping = aes(x = Race, y = Num.Migrators.From.CA, fill=Race), stat = \"identity\")+ labs(title = \"Migrators From CA by Race\")\n```\n\n::: {.cell-output .cell-output-error}\n```\nError in ggplot(data = CA_Migration_In_And_Out): object 'CA_Migration_In_And_Out' not found\n```\n:::\n:::\n\n\n\n\n## Limitations\nSome limitations and questions I am still exploring are:\n-How was the sample chosen?\n-How much migration is not captured by census data?\n-Is this data useful for municipalities to prepare for new citizens?\n-What are the income ranges for the parental income quintiles?\n-Can I change the Y axis scaling? The bar chart and plot point graph for total migrators by income have different Y axis labels.\n\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<link href=\"../site_libs/pagedtable-1.1/css/pagedtable.css\" rel=\"stylesheet\" />\r\n<script src=\"../site_libs/pagedtable-1.1/js/pagedtable.js\"></script>\r\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}