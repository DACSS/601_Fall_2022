<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.0.37">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Julian Castoro">
<meta name="dcterms.date" content="2022-11-30">
<meta name="description" content="Hw_3">

<title>DACSS 601: Data Science Fundamentals - FALL 2022 - Global Military Spending - An Analysis</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
span.underline{text-decoration: underline;}
div.column{display: inline-block; vertical-align: top; width: 50%;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<link href="../images/DACSS_Round_Network.png" rel="icon" type="image/png">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="../site_libs/bootstrap/bootstrap-dark.min.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>
<style>html{ scroll-behavior: smooth; }</style>


<meta name="twitter:title" content="DACSS 601: Data Science Fundamentals - FALL 2022 - Global Military Spending - An Analysis">
<meta name="twitter:description" content="Hw_3">
<meta name="twitter:creator" content="@UMassDACSS">
<meta name="twitter:card" content="summary">
</head>

<body class="nav-sidebar floating nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <a class="navbar-brand" href="../index.html">
    <img src="../images/UMass White Wordmark Horiz.png" alt="">
    <span class="navbar-title">DACSS 601: Data Science Fundamentals - FALL 2022</span>
  </a>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link active" href="../index.html" aria-current="page">Fall 2022 Posts</a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../about.html">Contributors</a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="https://umass.edu/sbs/dacss">DACSS</a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/DACSS/601_Fall_2022"><i class="bi bi-github" role="img" aria-label="GitHub">
</i> 
 </a>
  </li>  
</ul>
              <div class="quarto-toggle-container">
                  <a href="" class="quarto-color-scheme-toggle nav-link" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
              </div>
              <div id="quarto-search" class="" title="Search"></div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
    <div class="container-fluid d-flex justify-content-between">
      <h1 class="quarto-secondary-nav-title">Global Military Spending - An Analysis</h1>
      <button type="button" class="quarto-btn-toggle btn" aria-label="Show secondary navigation">
        <i class="bi bi-chevron-right"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-full page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse sidebar-navigation floating overflow-auto">
      <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
      </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">Course information</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../Syllabus.html" class="sidebar-item-text sidebar-link">Overview</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../instructional_team.html" class="sidebar-item-text sidebar-link">Instructional Team</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../course_schedule.html" class="sidebar-item-text sidebar-link">Course Schedule</a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true">Weekly materials</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../index.html" class="sidebar-item-text sidebar-link">Posts</a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#introduction" id="toc-introduction" class="nav-link active" data-scroll-target="#introduction">Introduction</a></li>
  <li><a href="#data" id="toc-data" class="nav-link" data-scroll-target="#data">Data</a>
  <ul class="collapse">
  <li><a href="#briefly-describe-the-data" id="toc-briefly-describe-the-data" class="nav-link" data-scroll-target="#briefly-describe-the-data">Briefly describe the data</a></li>
  <li><a href="#description-of-data-i-will-use" id="toc-description-of-data-i-will-use" class="nav-link" data-scroll-target="#description-of-data-i-will-use">Description of data I will use</a></li>
  <li><a href="#where-did-this-information-come-from" id="toc-where-did-this-information-come-from" class="nav-link" data-scroll-target="#where-did-this-information-come-from">Where did this information come from?</a></li>
  <li><a href="#reading-in-raw-information" id="toc-reading-in-raw-information" class="nav-link" data-scroll-target="#reading-in-raw-information">Reading in Raw information</a></li>
  <li><a href="#tidying-data" id="toc-tidying-data" class="nav-link" data-scroll-target="#tidying-data">Tidying Data</a></li>
  </ul></li>
  <li><a href="#clean-and-format-function" id="toc-clean-and-format-function" class="nav-link" data-scroll-target="#clean-and-format-function">Clean and format function</a>
  <ul class="collapse">
  <li><a href="#pivoting-years-and" id="toc-pivoting-years-and" class="nav-link" data-scroll-target="#pivoting-years-and">Pivoting years and</a>
  <ul class="collapse">
  <li><a href="#converting-column-types" id="toc-converting-column-types" class="nav-link" data-scroll-target="#converting-column-types">Converting column types</a></li>
  </ul></li>
  <li><a href="#join-of-the-different-tabs" id="toc-join-of-the-different-tabs" class="nav-link" data-scroll-target="#join-of-the-different-tabs">join of the different tabs</a></li>
  <li><a href="#hw3" id="toc-hw3" class="nav-link" data-scroll-target="#hw3">HW3</a>
  <ul class="collapse">
  <li><a href="#descriptive-stats" id="toc-descriptive-stats" class="nav-link" data-scroll-target="#descriptive-stats">descriptive stats</a></li>
  </ul></li>
  <li><a href="#faceted-by-region-show-mean-spend-of-each-country" id="toc-faceted-by-region-show-mean-spend-of-each-country" class="nav-link" data-scroll-target="#faceted-by-region-show-mean-spend-of-each-country">Faceted by Region, show mean spend of each country</a></li>
  <li><a href="#to-be-a-little-less-noisy-showing-the-top-6-spenders-over-time" id="toc-to-be-a-little-less-noisy-showing-the-top-6-spenders-over-time" class="nav-link" data-scroll-target="#to-be-a-little-less-noisy-showing-the-top-6-spenders-over-time">To be a little less noisy, showing the top 6 spenders over time</a></li>
  <li><a href="#hw-questions" id="toc-hw-questions" class="nav-link" data-scroll-target="#hw-questions">HW Questions</a>
  <ul class="collapse">
  <li><a href="#what-questions-are-left-unanswered" id="toc-what-questions-are-left-unanswered" class="nav-link" data-scroll-target="#what-questions-are-left-unanswered">what questions are left unanswered?</a></li>
  <li><a href="#what-may-be-unclear" id="toc-what-may-be-unclear" class="nav-link" data-scroll-target="#what-may-be-unclear">what may be unclear?</a></li>
  <li><a href="#how-could-i-improve-these-vizualizations" id="toc-how-could-i-improve-these-vizualizations" class="nav-link" data-scroll-target="#how-could-i-improve-these-vizualizations">How could I improve these vizualizations</a></li>
  </ul></li>
  <li><a href="#conclusion" id="toc-conclusion" class="nav-link" data-scroll-target="#conclusion">Conclusion</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content column-body" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<div class="quarto-title-block"><div><h1 class="title d-none d-lg-block">Global Military Spending - An Analysis</h1><button type="button" class="btn code-tools-button dropdown-toggle" id="quarto-code-tools-menu" data-bs-toggle="dropdown" aria-expanded="false"><i class="bi"></i> Code</button><ul class="dropdown-menu dropdown-menu-end" aria-labelelledby="quarto-code-tools-menu"><li><a id="quarto-show-all-code" class="dropdown-item" href="javascript:void(0)" role="button">Show All Code</a></li><li><a id="quarto-hide-all-code" class="dropdown-item" href="javascript:void(0)" role="button">Hide All Code</a></li><li><hr class="dropdown-divider"></li><li><a id="quarto-view-source" class="dropdown-item" href="javascript:void(0)" role="button">View Source</a></li></ul></div></div>
  <div class="quarto-categories">
    <div class="quarto-category">Homework3</div>
    <div class="quarto-category">Julian Castoro</div>
  </div>
  </div>

<div>
  <div class="description">
    Hw_3
  </div>
</div>


<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Julian Castoro </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">November 30, 2022</p>
    </div>
  </div>
    
  </div>
  

</header>

<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(lubridate)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(gganimate)</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(readxl)</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(purrr)</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(lubridate)</span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(leaflet)</span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a><span class="fu">options</span>(<span class="at">digits =</span> <span class="dv">3</span>,<span class="at">decimals=</span><span class="dv">2</span>)</span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a><span class="fu">options</span>(<span class="at">scipen =</span> <span class="dv">999</span>)</span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span>opts_chunk<span class="sc">$</span><span class="fu">set</span>(<span class="at">echo =</span> <span class="cn">TRUE</span>, <span class="at">warning=</span><span class="cn">FALSE</span>, <span class="at">message=</span><span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<section id="introduction" class="level2">
<h2 class="anchored" data-anchor-id="introduction">Introduction</h2>
<p>For HW3 I am not outputting any of the cleaning however I am leaving it in for reference.</p>
<p>The intent of this homework for me was to show how playing around with the descriptive statistics is a great idea for exploring your data. The questions I originally had intended to answer with the graphs lead to new questions and at the end of this has added a new time period for my final project to investigate.</p>
<p>Had I simply ommitted the outline I found in the data or changed my groupings to hide it, I would not have thought to highlight this time in history.</p>
</section>
<section id="data" class="level2">
<h2 class="anchored" data-anchor-id="data">Data</h2>
<section id="briefly-describe-the-data" class="level3">
<h3 class="anchored" data-anchor-id="briefly-describe-the-data">Briefly describe the data</h3>
<p>Below is a list of the available sheets in the SIPRI military spending data export. A few of the tabs are the same base information altered to reflect a specific currency or ratio. I am choosing to use the “Current USD” as my source of raw spending numbers as I believe it to be the easiest to understand and relate to. I will also be using “share of GDP” as well as “Share of Govt. spending” to provide context around a nations spending compared to their population they intend on defending as well as compared to overall spending.</p>
</section>
<section id="description-of-data-i-will-use" class="level3">
<h3 class="anchored" data-anchor-id="description-of-data-i-will-use">Description of data I will use</h3>
<p>“Gross domestic product (GDP) is the total monetary or market value of all the finished goods and services produced within a country’s borders in a specific time period.” - investopedia</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>sheets <span class="ot">&lt;-</span> <span class="fu">excel_sheets</span>(<span class="st">"_data/SIPRI-Milex-data-1949-2021.xlsx"</span>)</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="co">#sheets</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="where-did-this-information-come-from" class="level3">
<h3 class="anchored" data-anchor-id="where-did-this-information-come-from">Where did this information come from?</h3>
<p>The Military spending information I am analyzing comes from <strong>SIPRI</strong>, the <strong>S</strong>tockholm <strong>I</strong>nternational <strong>P</strong>eace <strong>R</strong>esearch <strong>I</strong>nstitute. SIPRI was established in 1966 for the purpose of “research into conflict, armaments, arms control and disarmament”. The organization is funded by the Swedish government however it regularly works internationally with research centers around the globe. SIPRI collected this particular data set from the official reports of each of the included governments in the form of official publications such as public budgets.</p>
<p>Here is a peek at what the raw information looks like.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>rawrawData_ShareOfGovSpend <span class="ot">&lt;-</span> <span class="fu">read_excel</span>(<span class="st">"_data/SIPRI-Milex-data-1949-2021.xlsx"</span>,<span class="at">sheet=</span>sheets[<span class="dv">9</span>])</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="co">#head(rawrawData_ShareOfGovSpend)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="reading-in-raw-information" class="level3">
<h3 class="anchored" data-anchor-id="reading-in-raw-information">Reading in Raw information</h3>
<p>Reading in raw information</p>
<p>The data provided by the Stockholm International Peace Research Institute(sipri) was separated into multiple tabs in one excel .xlsx file.</p>
<p>In order to begin working I imported the tabs I planned to utilize, skipping over some of the notes and title rows at the start of each tab.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>rawData_CurrentUSD <span class="ot">&lt;-</span> <span class="fu">read_excel</span>(<span class="st">"_data/SIPRI-Milex-data-1949-2021.xlsx"</span>,<span class="at">sheet=</span>sheets[<span class="dv">6</span>],<span class="at">skip=</span><span class="dv">5</span>)</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>rawData_ShareOfGDP <span class="ot">&lt;-</span> <span class="fu">read_excel</span>(<span class="st">"_data/SIPRI-Milex-data-1949-2021.xlsx"</span>,<span class="at">sheet=</span>sheets[<span class="dv">7</span>],<span class="at">skip=</span><span class="dv">5</span>)</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>rawData_ShareOfGovSpend <span class="ot">&lt;-</span> <span class="fu">read_excel</span>(<span class="st">"_data/SIPRI-Milex-data-1949-2021.xlsx"</span>,<span class="at">sheet=</span>sheets[<span class="dv">9</span>],<span class="at">skip=</span><span class="dv">7</span>)</span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a><span class="co">#head(rawData_CurrentUSD)</span></span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a><span class="co">#head(rawData_ShareOfGDP)</span></span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a><span class="co">#head(rawData_ShareOfGovSpend)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>Next I delete the first row of NA as well as the Notes column for each tibble.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="do">## trying Purr here to be cleaner, we have not covered this yet so please let me know if this could be better.</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a><span class="co">#tibleList &lt;- lst(rawData_CurrentUSD, rawData_ShareOfGDP, rawData_ShareOfGovSpend)</span></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a><span class="co"># could pur this with my func i bet</span></span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a><span class="do">## not working ^^</span></span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a>rawData_CurrentUSD <span class="ot">&lt;-</span> rawData_CurrentUSD[<span class="sc">-</span><span class="dv">1</span>,]  <span class="sc">%&gt;%</span></span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>Notes)</span>
<span id="cb5-14"><a href="#cb5-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-15"><a href="#cb5-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-16"><a href="#cb5-16" aria-hidden="true" tabindex="-1"></a>rawData_ShareOfGDP <span class="ot">&lt;-</span> rawData_ShareOfGDP[<span class="sc">-</span><span class="dv">1</span>,] <span class="sc">%&gt;%</span></span>
<span id="cb5-17"><a href="#cb5-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>Notes)</span>
<span id="cb5-18"><a href="#cb5-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-19"><a href="#cb5-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-20"><a href="#cb5-20" aria-hidden="true" tabindex="-1"></a>rawData_ShareOfGovSpend <span class="ot">&lt;-</span> rawData_ShareOfGovSpend[<span class="sc">-</span><span class="dv">1</span>,] <span class="sc">%&gt;%</span></span>
<span id="cb5-21"><a href="#cb5-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span><span class="dv">2</span><span class="sc">:-</span><span class="dv">3</span>)</span>
<span id="cb5-22"><a href="#cb5-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-23"><a href="#cb5-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-24"><a href="#cb5-24" aria-hidden="true" tabindex="-1"></a><span class="co">#head(rawData_CurrentUSD)</span></span>
<span id="cb5-25"><a href="#cb5-25" aria-hidden="true" tabindex="-1"></a><span class="co">#head(rawData_ShareOfGDP)</span></span>
<span id="cb5-26"><a href="#cb5-26" aria-hidden="true" tabindex="-1"></a><span class="co">#head(rawData_ShareOfGovSpend)  </span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="tidying-data" class="level3">
<h3 class="anchored" data-anchor-id="tidying-data">Tidying Data</h3>
<p>Before pivoting my data I wanted to add a column for region. I chose to do this with an algorithm as an exercise in iteration however it would have been more practical to just hard code this column.</p>
<section id="before-pivoting-i-am-adding-a-column-for-region" class="level4">
<h4 class="anchored" data-anchor-id="before-pivoting-i-am-adding-a-column-for-region">Before Pivoting I am adding a column for region</h4>
<p>The list of countries where there are NA’s for every year:</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>Regions <span class="ot">&lt;-</span> rawData_CurrentUSD <span class="sc">%&gt;%</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">is.na</span>(<span class="st">`</span><span class="at">1949</span><span class="st">`</span>))<span class="sc">%&gt;%</span></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(Country)</span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a><span class="co">#Regions</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>You will notice that some of these are continents and sub-continents, I wanted to break these into a <code>Region</code> field. The pattern I saw and chose to exploit was the fact that the overarching category would always be followed with a more specific category such as the <strong>Africa</strong> followed by <strong>North Africa</strong> values (see earlier print outs to see raw information).</p>
<p>I then added an empty vector into the tibble and populated it according to the Country column using the pattern described above.</p>
<p>Once I had left flags in the region column dictating where each region was starting I could use <code>fill(Region)</code> in order to populate the rest of the column.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>emptyRegionCol <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(<span class="fu">vector</span>(<span class="at">mode =</span> <span class="st">"character"</span>,<span class="at">length =</span> <span class="fu">length</span>(rawData_CurrentUSD<span class="sc">$</span><span class="st">`</span><span class="at">1949</span><span class="st">`</span>)))<span class="do">## doing as numeric here as a hacky way to fill this with NA's, any better way?</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a><span class="co">#adding col to tibble to be populated later</span></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>mutated_CurrentUSD <span class="ot">&lt;-</span> rawData_CurrentUSD <span class="sc">%&gt;%</span></span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Region =</span>emptyRegionCol,<span class="at">.before=</span><span class="dv">2</span>)</span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a><span class="co">#mutated_CurrentUSD</span></span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a><span class="co">#head(mutated_CurrentUSD)</span></span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-12"><a href="#cb7-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-13"><a href="#cb7-13" aria-hidden="true" tabindex="-1"></a><span class="co"># replacing the empty char in region with actual region if 2 NAs appear in a row</span></span>
<span id="cb7-14"><a href="#cb7-14" aria-hidden="true" tabindex="-1"></a>  <span class="co">#iterates along the indices of the Country vector</span></span>
<span id="cb7-15"><a href="#cb7-15" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span>(i <span class="cf">in</span> <span class="fu">seq_along</span>(mutated_CurrentUSD<span class="sc">$</span>Country) ){</span>
<span id="cb7-16"><a href="#cb7-16" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb7-17"><a href="#cb7-17" aria-hidden="true" tabindex="-1"></a>   <span class="co">#if 2 nas in a row then do something</span></span>
<span id="cb7-18"><a href="#cb7-18" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span>(<span class="fu">is.na</span>(mutated_CurrentUSD<span class="sc">$</span><span class="st">`</span><span class="at">1949</span><span class="st">`</span>[i]) <span class="sc">&amp;&amp;</span> <span class="fu">is.na</span>(mutated_CurrentUSD<span class="sc">$</span><span class="st">`</span><span class="at">1949</span><span class="st">`</span>[i<span class="sc">+</span><span class="dv">1</span>]) ){</span>
<span id="cb7-19"><a href="#cb7-19" aria-hidden="true" tabindex="-1"></a>    mutated_CurrentUSD<span class="sc">$</span>Region[i<span class="sc">+</span><span class="dv">1</span>] <span class="ot">&lt;-</span> mutated_CurrentUSD<span class="sc">$</span>Country[i<span class="sc">+</span><span class="dv">1</span>] <span class="co">#this works because when referencing an index outside of the vector R will return NA - Great to know.</span></span>
<span id="cb7-20"><a href="#cb7-20" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb7-21"><a href="#cb7-21" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb7-22"><a href="#cb7-22" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb7-23"><a href="#cb7-23" aria-hidden="true" tabindex="-1"></a>  <span class="co">#if the row is a region</span></span>
<span id="cb7-24"><a href="#cb7-24" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span>(<span class="fu">is.na</span>(mutated_CurrentUSD<span class="sc">$</span><span class="st">`</span><span class="at">1949</span><span class="st">`</span>[i]) ){</span>
<span id="cb7-25"><a href="#cb7-25" aria-hidden="true" tabindex="-1"></a>     mutated_CurrentUSD<span class="sc">$</span>Region[i<span class="sc">+</span><span class="dv">1</span>] <span class="ot">&lt;-</span> mutated_CurrentUSD<span class="sc">$</span>Country[i]</span>
<span id="cb7-26"><a href="#cb7-26" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb7-27"><a href="#cb7-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-28"><a href="#cb7-28" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb7-29"><a href="#cb7-29" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb7-30"><a href="#cb7-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-31"><a href="#cb7-31" aria-hidden="true" tabindex="-1"></a>mutated_CurrentUSD <span class="ot">&lt;-</span> mutated_CurrentUSD <span class="sc">%&gt;%</span></span>
<span id="cb7-32"><a href="#cb7-32" aria-hidden="true" tabindex="-1"></a>  <span class="fu">fill</span>(Region)</span>
<span id="cb7-33"><a href="#cb7-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-34"><a href="#cb7-34" aria-hidden="true" tabindex="-1"></a><span class="co">#mutated_CurrentUSD </span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>Now that I had my proof of concept for cleaning one of the sheets, in a format I wanted, it was time to clean the other sheets as well. I could have taken the above algorithm and modified it to work for each of the other tabs individually however I took the opportunity to practice with functions and created the below function to clean any of the tabs once they were loaded in and lightly cleaned.</p>
</section>
</section>
</section>
<section id="clean-and-format-function" class="level1">
<h1>Clean and format function</h1>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="do">## creating a function to clean the other sheets</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="do">##Input: a partially cleaned tibble, must have been read in and had excess rows trimmed</span></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a><span class="do">##output: tibble with regions correctly labeled and umbrella region categories i.e Africa above south Africa removed</span></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a><span class="do">##Note: All sub categories contained the main category name in them, will use regex to create groupings in the future.</span></span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>CleanData <span class="ot">&lt;-</span> <span class="cf">function</span>(inSheet){</span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a>  emptyRegionCol <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(<span class="fu">vector</span>(<span class="at">mode =</span> <span class="st">"character"</span>,<span class="at">length =</span> <span class="fu">nrow</span>(<span class="fu">select</span>(inSheet,<span class="dv">2</span>))))</span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a><span class="co">#adding col to tibble to be populated later</span></span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a>  output <span class="ot">&lt;-</span> inSheet <span class="sc">%&gt;%</span></span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">Region =</span> emptyRegionCol,<span class="at">.before=</span><span class="dv">2</span>)</span>
<span id="cb8-12"><a href="#cb8-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-13"><a href="#cb8-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-14"><a href="#cb8-14" aria-hidden="true" tabindex="-1"></a><span class="co"># replacing the empty char in region with actual region if 2 NAs appear in a row</span></span>
<span id="cb8-15"><a href="#cb8-15" aria-hidden="true" tabindex="-1"></a> <span class="co">#iterates along the indices of the Country vector</span></span>
<span id="cb8-16"><a href="#cb8-16" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span>(i <span class="cf">in</span> <span class="fu">seq_along</span>(output<span class="sc">$</span>Country)){</span>
<span id="cb8-17"><a href="#cb8-17" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb8-18"><a href="#cb8-18" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span>(<span class="fu">is.na</span>(output[[i,<span class="dv">3</span>]]) <span class="sc">&amp;&amp;</span> <span class="fu">is.na</span>(output[[(i<span class="sc">+</span><span class="dv">1</span>),<span class="dv">3</span>]]))</span>
<span id="cb8-19"><a href="#cb8-19" aria-hidden="true" tabindex="-1"></a>      output<span class="sc">$</span>Region[i<span class="sc">+</span><span class="dv">1</span>] <span class="ot">&lt;-</span> output<span class="sc">$</span>Country[i<span class="sc">+</span><span class="dv">1</span>]</span>
<span id="cb8-20"><a href="#cb8-20" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb8-21"><a href="#cb8-21" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span>(<span class="fu">is.na</span>(output[[i,<span class="dv">3</span>]]))</span>
<span id="cb8-22"><a href="#cb8-22" aria-hidden="true" tabindex="-1"></a>       output<span class="sc">$</span>Region[i<span class="sc">+</span><span class="dv">1</span>] <span class="ot">&lt;-</span> output<span class="sc">$</span>Country[i]</span>
<span id="cb8-23"><a href="#cb8-23" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb8-24"><a href="#cb8-24" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb8-25"><a href="#cb8-25" aria-hidden="true" tabindex="-1"></a>  output <span class="ot">&lt;-</span> output <span class="sc">%&gt;%</span></span>
<span id="cb8-26"><a href="#cb8-26" aria-hidden="true" tabindex="-1"></a>    <span class="fu">fill</span>(Region)</span>
<span id="cb8-27"><a href="#cb8-27" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb8-28"><a href="#cb8-28" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb8-29"><a href="#cb8-29" aria-hidden="true" tabindex="-1"></a>  <span class="co"># removing header rows</span></span>
<span id="cb8-30"><a href="#cb8-30" aria-hidden="true" tabindex="-1"></a>  output <span class="ot">&lt;-</span> output <span class="sc">%&gt;%</span></span>
<span id="cb8-31"><a href="#cb8-31" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(output[[<span class="dv">3</span>]]))</span>
<span id="cb8-32"><a href="#cb8-32" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>Below I call the function on each of the tibbles loaded in earlier.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>Cleaned_currentUSD <span class="ot">&lt;-</span> <span class="fu">CleanData</span>(rawData_CurrentUSD)</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>Cleaned_ShareOfGovSpend <span class="ot">&lt;-</span> <span class="fu">CleanData</span>(rawData_ShareOfGovSpend)</span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>Cleaned_ShareOfGDP <span class="ot">&lt;-</span> <span class="fu">CleanData</span>(rawData_ShareOfGDP)</span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a><span class="co">#head(Cleaned_currentUSD)</span></span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a><span class="co">#head(Cleaned_ShareOfGovSpend)</span></span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a><span class="co">#head(Cleaned_ShareOfGDP)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<section id="pivoting-years-and" class="level2">
<h2 class="anchored" data-anchor-id="pivoting-years-and">Pivoting years and</h2>
<p>Next I pivot the years, it should be noted that both the pivoting and Converting of notation could be handled by the clean function above, i kept the steps separate so that I could show the progression of the dataframe.</p>
<p>I must also handle the xxx and … notations. From the information page of my data set I can see that the notation is described as follows:</p>
<table class="table">
<colgroup>
<col style="width: 50%">
<col style="width: 50%">
</colgroup>
<thead>
<tr class="header">
<th>Raw Notation</th>
<th>Meaning</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>…</td>
<td>Data unavailable</td>
</tr>
<tr class="even">
<td>xxx</td>
<td>Country did not exist or was not independent during all or part of the year in question</td>
</tr>
</tbody>
</table>
<p>For now I think I will just keep both as NA but will save this form of the information for future use.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>Cleaned_currentUSD <span class="ot">&lt;-</span> Cleaned_currentUSD <span class="sc">%&gt;%</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="at">cols=</span><span class="dv">3</span><span class="sc">:</span><span class="fu">ncol</span>(Cleaned_currentUSD),<span class="at">names_to =</span> <span class="st">"Year"</span>,<span class="at">values_drop_na =</span> <span class="cn">FALSE</span>)<span class="sc">%&gt;%</span></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">na_if</span>(<span class="st">"..."</span>) <span class="sc">%&gt;%</span></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>      <span class="fu">na_if</span>(<span class="st">"xxx"</span>)</span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>Cleaned_ShareOfGovSpend <span class="ot">&lt;-</span> Cleaned_ShareOfGovSpend <span class="sc">%&gt;%</span></span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="at">cols=</span><span class="dv">3</span><span class="sc">:</span><span class="fu">ncol</span>(Cleaned_ShareOfGovSpend),<span class="at">names_to =</span> <span class="st">"Year"</span>,<span class="at">values_drop_na =</span> <span class="cn">FALSE</span>)<span class="sc">%&gt;%</span></span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">na_if</span>(<span class="st">"..."</span>) <span class="sc">%&gt;%</span></span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a>      <span class="fu">na_if</span>(<span class="st">"xxx"</span>)</span>
<span id="cb10-10"><a href="#cb10-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-11"><a href="#cb10-11" aria-hidden="true" tabindex="-1"></a>Cleaned_ShareOfGDP <span class="ot">&lt;-</span> Cleaned_ShareOfGDP <span class="sc">%&gt;%</span></span>
<span id="cb10-12"><a href="#cb10-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="at">cols=</span><span class="dv">3</span><span class="sc">:</span><span class="fu">ncol</span>(Cleaned_ShareOfGDP),<span class="at">names_to =</span> <span class="st">"Year"</span>,<span class="at">values_drop_na =</span> <span class="cn">FALSE</span>)<span class="sc">%&gt;%</span></span>
<span id="cb10-13"><a href="#cb10-13" aria-hidden="true" tabindex="-1"></a>    <span class="fu">na_if</span>(<span class="st">"..."</span>) <span class="sc">%&gt;%</span></span>
<span id="cb10-14"><a href="#cb10-14" aria-hidden="true" tabindex="-1"></a>      <span class="fu">na_if</span>(<span class="st">"xxx"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<section id="converting-column-types" class="level3">
<h3 class="anchored" data-anchor-id="converting-column-types">Converting column types</h3>
<p>Finally I will convert the column types to their correct representation.</p>
<p>Before:</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="co">#head(Cleaned_currentUSD)</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a><span class="co">#head(Cleaned_ShareOfGovSpend)</span></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a><span class="co">#head(Cleaned_ShareOfGDP)</span></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Year to date</span></span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a><span class="co">#Cleaned_currentUSD$Year&lt;-as_date(Cleaned_currentUSD$Year, format = "%Y",tz=NULL)</span></span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a><span class="co">#Cleaned_ShareOfGovSpend$Year&lt;-as_date(Cleaned_ShareOfGovSpend$Year, format = "%Y",tz=NULL)</span></span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a><span class="co">#Cleaned_ShareOfGDP$Year&lt;-as_date(Cleaned_ShareOfGDP$Year, format = "%Y",tz=NULL)</span></span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a><span class="co">#Year to Number</span></span>
<span id="cb11-11"><a href="#cb11-11" aria-hidden="true" tabindex="-1"></a>Cleaned_currentUSD<span class="sc">$</span>Year<span class="ot">&lt;-</span><span class="fu">as.integer</span>(Cleaned_currentUSD<span class="sc">$</span>Year)</span>
<span id="cb11-12"><a href="#cb11-12" aria-hidden="true" tabindex="-1"></a>Cleaned_ShareOfGovSpend<span class="sc">$</span>Year<span class="ot">&lt;-</span><span class="fu">as.integer</span>(Cleaned_ShareOfGovSpend<span class="sc">$</span>Year)</span>
<span id="cb11-13"><a href="#cb11-13" aria-hidden="true" tabindex="-1"></a>Cleaned_ShareOfGDP<span class="sc">$</span>Year<span class="ot">&lt;-</span><span class="fu">as.integer</span>(Cleaned_ShareOfGDP<span class="sc">$</span>Year)</span>
<span id="cb11-14"><a href="#cb11-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-15"><a href="#cb11-15" aria-hidden="true" tabindex="-1"></a><span class="co">#Cleaned_currentUSD</span></span>
<span id="cb11-16"><a href="#cb11-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-17"><a href="#cb11-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-18"><a href="#cb11-18" aria-hidden="true" tabindex="-1"></a><span class="co"># value to double</span></span>
<span id="cb11-19"><a href="#cb11-19" aria-hidden="true" tabindex="-1"></a>Cleaned_currentUSD<span class="sc">$</span>value <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(Cleaned_currentUSD<span class="sc">$</span>value)</span>
<span id="cb11-20"><a href="#cb11-20" aria-hidden="true" tabindex="-1"></a>Cleaned_ShareOfGovSpend<span class="sc">$</span>value<span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(Cleaned_ShareOfGovSpend<span class="sc">$</span>value)</span>
<span id="cb11-21"><a href="#cb11-21" aria-hidden="true" tabindex="-1"></a>Cleaned_ShareOfGDP<span class="sc">$</span>value<span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(Cleaned_ShareOfGDP<span class="sc">$</span>value)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="co">#view(Cleaned_ShareOfGovSpend)=</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>Cleaned_currentUSD <span class="ot">&lt;-</span> Cleaned_currentUSD <span class="sc">%&gt;%</span></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">MilitarySpend_currentUSD=</span>value)</span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a>Cleaned_ShareOfGovSpend <span class="ot">&lt;-</span> Cleaned_ShareOfGovSpend<span class="sc">%&gt;%</span></span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">MilitarySpend_ShareofGovSpend=</span>value)</span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a>Cleaned_ShareOfGDP <span class="ot">&lt;-</span> Cleaned_ShareOfGDP<span class="sc">%&gt;%</span></span>
<span id="cb12-9"><a href="#cb12-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">MilitarySpend_ShareofGDP=</span>value)</span>
<span id="cb12-10"><a href="#cb12-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-11"><a href="#cb12-11" aria-hidden="true" tabindex="-1"></a><span class="co">#head(Cleaned_currentUSD)</span></span>
<span id="cb12-12"><a href="#cb12-12" aria-hidden="true" tabindex="-1"></a><span class="co">#head(Cleaned_ShareOfGovSpend)</span></span>
<span id="cb12-13"><a href="#cb12-13" aria-hidden="true" tabindex="-1"></a><span class="co">#head(Cleaned_ShareOfGDP)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
</section>
<section id="join-of-the-different-tabs" class="level2">
<h2 class="anchored" data-anchor-id="join-of-the-different-tabs">join of the different tabs</h2>
<p>I think we will want to do a full join as we dont want to lose any information.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="co">#nrow(Cleaned_currentUSD)</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a><span class="co">#nrow(Cleaned_ShareOfGovSpend)</span></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a><span class="co">#nrow(Cleaned_ShareOfGDP)</span></span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a>MilitarySpend<span class="ot">&lt;-</span> <span class="fu">full_join</span>(Cleaned_currentUSD,Cleaned_ShareOfGovSpend,<span class="at">by=</span><span class="fu">c</span>(<span class="st">"Country"</span>,<span class="st">"Year"</span>,<span class="st">"Region"</span>))</span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a>MilitarySpend <span class="ot">&lt;-</span> <span class="fu">full_join</span>(MilitarySpend,Cleaned_ShareOfGDP,<span class="at">by=</span><span class="fu">c</span>(<span class="st">"Country"</span>,<span class="st">"Year"</span>,<span class="st">"Region"</span>))</span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-9"><a href="#cb13-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-10"><a href="#cb13-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-11"><a href="#cb13-11" aria-hidden="true" tabindex="-1"></a><span class="co">#head(MilitarySpend)</span></span>
<span id="cb13-12"><a href="#cb13-12" aria-hidden="true" tabindex="-1"></a><span class="co">#nrow(MilitarySpend)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="hw3" class="level2">
<h2 class="anchored" data-anchor-id="hw3">HW3</h2>
<section id="descriptive-stats" class="level3">
<h3 class="anchored" data-anchor-id="descriptive-stats">descriptive stats</h3>
<p>mean median and std for each of the tabs Charts for the stats</p>
<p>First I wanted to get an idea of what my data looks like for each of the countries individually. In order to see this I grouped on country name and the types of data we have.</p>
<p>In order to get that done I need to pivot my data again.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>combinedData <span class="ot">&lt;-</span>MilitarySpend <span class="sc">%&gt;%</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="fu">c</span>(MilitarySpend_currentUSD,MilitarySpend_ShareofGovSpend,MilitarySpend_ShareofGDP),<span class="at">names_to =</span> <span class="st">"viewOfSpend"</span>,<span class="at">values_to =</span> <span class="st">"Spend"</span>)</span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(combinedData)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 5
  Country Region        Year viewOfSpend                   Spend
  &lt;chr&gt;   &lt;chr&gt;        &lt;int&gt; &lt;chr&gt;                         &lt;dbl&gt;
1 Algeria North Africa  1949 MilitarySpend_currentUSD         NA
2 Algeria North Africa  1949 MilitarySpend_ShareofGovSpend    NA
3 Algeria North Africa  1949 MilitarySpend_ShareofGDP         NA
4 Algeria North Africa  1950 MilitarySpend_currentUSD         NA
5 Algeria North Africa  1950 MilitarySpend_ShareofGovSpend    NA
6 Algeria North Africa  1950 MilitarySpend_ShareofGDP         NA</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="co">#view(combinedData)</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a><span class="fu">na.omit</span>(combinedData)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 20,270 × 5
   Country Region        Year viewOfSpend                 Spend
   &lt;chr&gt;   &lt;chr&gt;        &lt;int&gt; &lt;chr&gt;                       &lt;dbl&gt;
 1 Algeria North Africa  1963 MilitarySpend_currentUSD  66.4   
 2 Algeria North Africa  1963 MilitarySpend_ShareofGDP   0.0251
 3 Algeria North Africa  1964 MilitarySpend_currentUSD  99.9   
 4 Algeria North Africa  1964 MilitarySpend_ShareofGDP   0.0350
 5 Algeria North Africa  1965 MilitarySpend_currentUSD 106.    
 6 Algeria North Africa  1965 MilitarySpend_ShareofGDP   0.0342
 7 Algeria North Africa  1966 MilitarySpend_currentUSD 105.    
 8 Algeria North Africa  1966 MilitarySpend_ShareofGDP   0.0351
 9 Algeria North Africa  1967 MilitarySpend_currentUSD  99.2   
10 Algeria North Africa  1967 MilitarySpend_ShareofGDP   0.0302
# … with 20,260 more rows</code></pre>
</div>
</div>
<p>Below is a graph depicting the completeness of the information available to us.</p>
<p>Total number of countries analyzed:</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>combinedData<span class="sc">%&gt;%</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(Country)<span class="sc">%&gt;%</span></span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 1
      n
  &lt;int&gt;
1   173</code></pre>
</div>
</div>
<p>Number of countries by region:</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>combinedData<span class="sc">%&gt;%</span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Region)<span class="sc">%&gt;%</span></span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">numberCountries =</span> <span class="fu">n_distinct</span>(Country))<span class="sc">%&gt;%</span></span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(numberCountries))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 14 × 2
   Region                            numberCountries
   &lt;chr&gt;                                       &lt;int&gt;
 1 sub-Saharan Africa                             47
 2 Central Europe                                 20
 3 Western Europe                                 20
 4 Middle East                                    16
 5 Central America and the Caribbean              13
 6 South America                                  11
 7 South East Asia                                11
 8 Eastern Europe                                  8
 9 East Asia                                       6
10 South Asia                                      6
11 Central Asia                                    5
12 North Africa                                    4
13 Oceania                                         4
14 North America                                   2</code></pre>
</div>
</div>
<p>Due to the number of Regions I may need to focus on some in particular…</p>
<p>by year, how many countries had data available</p>
<div class="cell">

</div>
<p>Statistics by region</p>
<p>#MilitarySpend_currentUSD</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>byRegionStats_USD<span class="ot">&lt;-</span>combinedData<span class="sc">%&gt;%</span></span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Region,viewOfSpend)<span class="sc">%&gt;%</span></span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">mean =</span> <span class="fu">mean</span>(Spend, <span class="at">na.rm=</span><span class="cn">TRUE</span>,<span class="at">sigfig=</span><span class="dv">1</span>),</span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a>            <span class="at">std =</span> <span class="fu">sd</span>(Spend, <span class="at">na.rm=</span><span class="cn">TRUE</span>),</span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a>            <span class="at">min =</span> <span class="fu">min</span>(Spend, <span class="at">na.rm=</span><span class="cn">TRUE</span>),</span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a>            <span class="at">max =</span> <span class="fu">max</span>(Spend, <span class="at">na.rm=</span><span class="cn">TRUE</span>))<span class="sc">%&gt;%</span></span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(mean))<span class="sc">%&gt;%</span></span>
<span id="cb22-8"><a href="#cb22-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(viewOfSpend<span class="sc">==</span><span class="st">"MilitarySpend_currentUSD"</span>)</span>
<span id="cb22-9"><a href="#cb22-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-10"><a href="#cb22-10" aria-hidden="true" tabindex="-1"></a>byRegionStats_USD</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 14 × 6
# Groups:   Region [14]
   Region                            viewOfSpend       mean    std    min    max
   &lt;chr&gt;                             &lt;chr&gt;            &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;
 1 North America                     MilitarySpend_… 1.49e5 2.23e5 426.   8.01e5
 2 East Asia                         MilitarySpend_… 2.04e4 4.21e4   0    2.93e5
 3 Eastern Europe                    MilitarySpend_… 1.09e4 3.52e4   0    2.46e5
 4 Western Europe                    MilitarySpend_… 7.14e3 1.28e4   0    7.34e4
 5 Middle East                       MilitarySpend_… 4.91e3 9.59e3   0    8.72e4
 6 South Asia                        MilitarySpend_… 4.46e3 1.17e4   2.48 7.66e4
 7 Oceania                           MilitarySpend_… 2.83e3 6.29e3   0    3.18e4
 8 South America                     MilitarySpend_… 2.02e3 4.57e3   0    3.69e4
 9 South East Asia                   MilitarySpend_… 1.94e3 3.16e3   0    3.30e4
10 North Africa                      MilitarySpend_… 1.36e3 2.21e3   3.71 1.04e4
11 Central Europe                    MilitarySpend_… 1.14e3 2.20e3   0    1.74e4
12 Central Asia                      MilitarySpend_… 3.36e2 5.92e2   0    2.55e3
13 Central America and the Caribbean MilitarySpend_… 2.86e2 9.54e2   0    8.68e3
14 sub-Saharan Africa                MilitarySpend_… 2.58e2 6.35e2   0    6.85e3</code></pre>
</div>
</div>
<p>#MilitarySpend_ShareOfGDP</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>byRegionStats_GDP<span class="ot">&lt;-</span>combinedData<span class="sc">%&gt;%</span></span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Region,viewOfSpend,Year)<span class="sc">%&gt;%</span></span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">mean =</span> <span class="fu">mean</span>(Spend, <span class="at">na.rm=</span><span class="cn">TRUE</span>,<span class="at">sigfig=</span><span class="dv">1</span>),</span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a>            <span class="at">std =</span> <span class="fu">sd</span>(Spend, <span class="at">na.rm=</span><span class="cn">TRUE</span>),</span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a>            <span class="at">min =</span> <span class="fu">min</span>(Spend, <span class="at">na.rm=</span><span class="cn">TRUE</span>),</span>
<span id="cb24-6"><a href="#cb24-6" aria-hidden="true" tabindex="-1"></a>            <span class="at">max =</span> <span class="fu">max</span>(Spend, <span class="at">na.rm=</span><span class="cn">TRUE</span>))<span class="sc">%&gt;%</span></span>
<span id="cb24-7"><a href="#cb24-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(mean))<span class="sc">%&gt;%</span></span>
<span id="cb24-8"><a href="#cb24-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(viewOfSpend<span class="sc">==</span><span class="st">"MilitarySpend_ShareofGDP"</span>)</span>
<span id="cb24-9"><a href="#cb24-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-10"><a href="#cb24-10" aria-hidden="true" tabindex="-1"></a>byRegionStats_GDP</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1,022 × 7
# Groups:   Region, viewOfSpend [14]
   Region      viewOfSpend               Year  mean    std    min   max
   &lt;chr&gt;       &lt;chr&gt;                    &lt;int&gt; &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt; &lt;dbl&gt;
 1 Middle East MilitarySpend_ShareofGDP  1991 0.167 0.305  0.0217 1.17 
 2 Middle East MilitarySpend_ShareofGDP  1975 0.147 0.0893 0.0153 0.305
 3 Middle East MilitarySpend_ShareofGDP  1959 0.146 0.112  0.0671 0.225
 4 Middle East MilitarySpend_ShareofGDP  1976 0.139 0.0800 0.0175 0.292
 5 Middle East MilitarySpend_ShareofGDP  1974 0.131 0.0765 0.0319 0.277
 6 Middle East MilitarySpend_ShareofGDP  1982 0.117 0.0539 0.0430 0.193
 7 Middle East MilitarySpend_ShareofGDP  1973 0.117 0.0828 0.0186 0.279
 8 Middle East MilitarySpend_ShareofGDP  1978 0.115 0.0619 0.0419 0.229
 9 Middle East MilitarySpend_ShareofGDP  1985 0.113 0.0661 0.0353 0.248
10 Middle East MilitarySpend_ShareofGDP  1977 0.112 0.0632 0.0208 0.231
# … with 1,012 more rows</code></pre>
</div>
</div>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a>byRegionStats_GDP</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1,022 × 7
# Groups:   Region, viewOfSpend [14]
   Region      viewOfSpend               Year  mean    std    min   max
   &lt;chr&gt;       &lt;chr&gt;                    &lt;int&gt; &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt; &lt;dbl&gt;
 1 Middle East MilitarySpend_ShareofGDP  1991 0.167 0.305  0.0217 1.17 
 2 Middle East MilitarySpend_ShareofGDP  1975 0.147 0.0893 0.0153 0.305
 3 Middle East MilitarySpend_ShareofGDP  1959 0.146 0.112  0.0671 0.225
 4 Middle East MilitarySpend_ShareofGDP  1976 0.139 0.0800 0.0175 0.292
 5 Middle East MilitarySpend_ShareofGDP  1974 0.131 0.0765 0.0319 0.277
 6 Middle East MilitarySpend_ShareofGDP  1982 0.117 0.0539 0.0430 0.193
 7 Middle East MilitarySpend_ShareofGDP  1973 0.117 0.0828 0.0186 0.279
 8 Middle East MilitarySpend_ShareofGDP  1978 0.115 0.0619 0.0419 0.229
 9 Middle East MilitarySpend_ShareofGDP  1985 0.113 0.0661 0.0353 0.248
10 Middle East MilitarySpend_ShareofGDP  1977 0.112 0.0632 0.0208 0.231
# … with 1,012 more rows</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>byRegionStats_GDP<span class="ot">&lt;-</span>combinedData<span class="sc">%&gt;%</span></span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Region,viewOfSpend,Year)<span class="sc">%&gt;%</span></span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(viewOfSpend<span class="sc">==</span><span class="st">"MilitarySpend_ShareofGDP"</span>)</span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-5"><a href="#cb28-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-6"><a href="#cb28-6" aria-hidden="true" tabindex="-1"></a>byRegionStats_GDP<span class="sc">$</span>Region<span class="ot">&lt;-</span><span class="fu">as.factor</span>(byRegionStats_GDP<span class="sc">$</span>Region)</span>
<span id="cb28-7"><a href="#cb28-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-8"><a href="#cb28-8" aria-hidden="true" tabindex="-1"></a>violin_gdp<span class="ot">&lt;-</span> <span class="fu">na.omit</span>(byRegionStats_GDP)<span class="sc">%&gt;%</span></span>
<span id="cb28-9"><a href="#cb28-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>Region,<span class="at">y=</span>Spend))<span class="sc">+</span></span>
<span id="cb28-10"><a href="#cb28-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_violin</span>()</span>
<span id="cb28-11"><a href="#cb28-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-12"><a href="#cb28-12" aria-hidden="true" tabindex="-1"></a>violin_gdp</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="Final-Project-_HW3_-JulianCastoro_files/figure-html/unnamed-chunk-20-1.png" class="img-fluid" width="672"></p>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="co"># removing NAs here because I cant plot them, I dont want to replace them with other values because it is still of interest when countries do not display thier data.</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>Something crazy going on with the middle east spend…</p>
<p>Investigation:</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a>byRegionStats_GDP<span class="sc">%&gt;%</span></span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Region<span class="sc">==</span><span class="st">"Middle East"</span>)<span class="sc">%&gt;%</span></span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(Spend))<span class="sc">%&gt;%</span></span>
<span id="cb30-4"><a href="#cb30-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">head</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 5
# Groups:   Region, viewOfSpend, Year [6]
  Country Region       Year viewOfSpend              Spend
  &lt;chr&gt;   &lt;fct&gt;       &lt;int&gt; &lt;chr&gt;                    &lt;dbl&gt;
1 Kuwait  Middle East  1991 MilitarySpend_ShareofGDP 1.17 
2 Kuwait  Middle East  1990 MilitarySpend_ShareofGDP 0.485
3 Kuwait  Middle East  1992 MilitarySpend_ShareofGDP 0.318
4 Israel  Middle East  1975 MilitarySpend_ShareofGDP 0.305
5 Israel  Middle East  1976 MilitarySpend_ShareofGDP 0.292
6 Israel  Middle East  1973 MilitarySpend_ShareofGDP 0.279</code></pre>
</div>
</div>
<p>I initially thought this was a typo since there were two 1s in a row and it was such an insanely high spend. A share of GDP of 1.173 means Kuwait spent 117.3% of their GDP in that year. Upon further investigation, this is actually true and it was driven by the Persian Gulf War(aka Gulf War). The Gulf War was a conflict triggered by Iraqs invasion of Kuwait in 1990. This invasion was the first major international crisis since the Cold War and will certainly be a topic I add to the final analysis.</p>
<p>https://www.britannica.com/event/Persian-Gulf-War</p>
<p>Loosely I will plot Iraq, US and Kuwait spend from 1985-1995 to explore this time period.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a>combinedData<span class="sc">%&gt;%</span></span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Year <span class="sc">&gt;=</span> <span class="dv">1985</span> <span class="sc">&amp;</span> Year<span class="sc">&lt;=</span> <span class="dv">1995</span>)<span class="sc">%&gt;%</span></span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Country <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"United States of America"</span>,<span class="st">"Iraq"</span>,<span class="st">"Kuwait"</span>))<span class="sc">%&gt;%</span></span>
<span id="cb32-4"><a href="#cb32-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggplot</span>(<span class="at">mapping=</span><span class="fu">aes</span>(<span class="at">y =</span> Spend, <span class="at">x =</span> Year))<span class="sc">+</span>  </span>
<span id="cb32-5"><a href="#cb32-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">color =</span> Country, <span class="at">alpha=</span><span class="fl">0.9</span>),<span class="at">na.rm =</span> <span class="cn">FALSE</span>)<span class="sc">+</span></span>
<span id="cb32-6"><a href="#cb32-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">facet_wrap</span>(<span class="fu">vars</span>(<span class="st">`</span><span class="at">viewOfSpend</span><span class="st">`</span>),<span class="at">scales =</span> <span class="st">"free_y"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="Final-Project-_HW3_-JulianCastoro_files/figure-html/unnamed-chunk-22-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>A new discovery! Iraq chose not to report their spending during the Gulf war.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a>combinedData<span class="sc">%&gt;%</span></span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Country <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"Iraq"</span>))<span class="sc">%&gt;%</span></span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Year<span class="sc">&gt;</span><span class="dv">1960</span><span class="sc">&amp;</span><span class="fu">is.na</span>(Spend))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 87 × 5
   Country Region       Year viewOfSpend                   Spend
   &lt;chr&gt;   &lt;chr&gt;       &lt;int&gt; &lt;chr&gt;                         &lt;dbl&gt;
 1 Iraq    Middle East  1961 MilitarySpend_ShareofGovSpend    NA
 2 Iraq    Middle East  1962 MilitarySpend_ShareofGovSpend    NA
 3 Iraq    Middle East  1963 MilitarySpend_ShareofGovSpend    NA
 4 Iraq    Middle East  1964 MilitarySpend_ShareofGovSpend    NA
 5 Iraq    Middle East  1965 MilitarySpend_ShareofGovSpend    NA
 6 Iraq    Middle East  1966 MilitarySpend_ShareofGovSpend    NA
 7 Iraq    Middle East  1967 MilitarySpend_ShareofGovSpend    NA
 8 Iraq    Middle East  1968 MilitarySpend_ShareofGovSpend    NA
 9 Iraq    Middle East  1969 MilitarySpend_ShareofGovSpend    NA
10 Iraq    Middle East  1970 MilitarySpend_ShareofGovSpend    NA
# … with 77 more rows</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a>startOfNoData<span class="ot">&lt;-</span> <span class="dv">1982</span></span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a>endofNoData<span class="ot">&lt;-</span> <span class="dv">2003</span></span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-4"><a href="#cb35-4" aria-hidden="true" tabindex="-1"></a>iraqMissingDataPLOT<span class="ot">&lt;-</span>combinedData<span class="sc">%&gt;%</span></span>
<span id="cb35-5"><a href="#cb35-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Country <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"Iraq"</span>))<span class="sc">%&gt;%</span></span>
<span id="cb35-6"><a href="#cb35-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggplot</span>(<span class="at">mapping=</span><span class="fu">aes</span>( <span class="at">x =</span> Spend,<span class="at">y =</span> Year))<span class="sc">+</span></span>
<span id="cb35-7"><a href="#cb35-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>()<span class="sc">+</span></span>
<span id="cb35-8"><a href="#cb35-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">facet_wrap</span>(<span class="fu">vars</span>(<span class="st">`</span><span class="at">viewOfSpend</span><span class="st">`</span>),<span class="at">scales =</span> <span class="st">"free_x"</span>)<span class="sc">+</span></span>
<span id="cb35-9"><a href="#cb35-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_y_continuous</span>(<span class="at">labels=</span><span class="fu">seq</span>(<span class="dv">1949</span>,<span class="dv">2020</span>,<span class="dv">5</span>),<span class="at">breaks =</span><span class="fu">seq</span>(<span class="dv">1949</span>,<span class="dv">2020</span>,<span class="dv">5</span>))</span>
<span id="cb35-10"><a href="#cb35-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-11"><a href="#cb35-11" aria-hidden="true" tabindex="-1"></a>iraqMissingDataPLOT<span class="sc">+</span></span>
<span id="cb35-12"><a href="#cb35-12" aria-hidden="true" tabindex="-1"></a><span class="fu">geom_hline</span>(<span class="at">yintercept =</span> <span class="dv">1982</span>,<span class="at">color=</span><span class="st">"red"</span>)<span class="sc">+</span></span>
<span id="cb35-13"><a href="#cb35-13" aria-hidden="true" tabindex="-1"></a><span class="fu">geom_hline</span>(<span class="at">yintercept =</span> <span class="dv">2003</span>,<span class="at">color=</span><span class="st">"red"</span>)<span class="sc">+</span></span>
<span id="cb35-14"><a href="#cb35-14" aria-hidden="true" tabindex="-1"></a><span class="fu">annotate</span>(<span class="st">"text"</span>,<span class="at">x=</span><span class="dv">0</span>,<span class="at">y=</span><span class="dv">1982</span>,<span class="at">label=</span><span class="st">"1982"</span>,<span class="at">hjust=</span><span class="sc">-</span><span class="fl">0.1</span>,<span class="at">vjust=</span><span class="sc">-</span><span class="fl">0.1</span>,<span class="at">color=</span><span class="st">"red"</span>)<span class="sc">+</span></span>
<span id="cb35-15"><a href="#cb35-15" aria-hidden="true" tabindex="-1"></a><span class="fu">annotate</span>(<span class="st">"text"</span>,<span class="at">x=</span><span class="dv">0</span>,<span class="at">y=</span><span class="dv">2003</span>,<span class="at">label=</span><span class="st">"2003"</span>,<span class="at">hjust=</span><span class="sc">-</span><span class="fl">0.1</span>,<span class="at">vjust=</span><span class="fl">1.1</span>,<span class="at">color=</span><span class="st">"red"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="Final-Project-_HW3_-JulianCastoro_files/figure-html/unnamed-chunk-23-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Below I continue to explore the dataset. This might be too much for HW3 however I was doing it anyway for the final so I chose to include it.</p>
<p>#MilitarySpend_ShareofGovSpend</p>
<p>Now to explore the statistics within the Share of Gov Spend tab.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a>byRegionStats_GovSpend<span class="ot">&lt;-</span>combinedData<span class="sc">%&gt;%</span></span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Region,viewOfSpend)<span class="sc">%&gt;%</span></span>
<span id="cb36-3"><a href="#cb36-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">mean =</span> <span class="fu">mean</span>(Spend, <span class="at">na.rm=</span><span class="cn">TRUE</span>,<span class="at">sigfig=</span><span class="dv">1</span>),</span>
<span id="cb36-4"><a href="#cb36-4" aria-hidden="true" tabindex="-1"></a>            <span class="at">std =</span> <span class="fu">sd</span>(Spend, <span class="at">na.rm=</span><span class="cn">TRUE</span>),</span>
<span id="cb36-5"><a href="#cb36-5" aria-hidden="true" tabindex="-1"></a>            <span class="at">min =</span> <span class="fu">min</span>(Spend, <span class="at">na.rm=</span><span class="cn">TRUE</span>),</span>
<span id="cb36-6"><a href="#cb36-6" aria-hidden="true" tabindex="-1"></a>            <span class="at">max =</span> <span class="fu">max</span>(Spend, <span class="at">na.rm=</span><span class="cn">TRUE</span>))<span class="sc">%&gt;%</span></span>
<span id="cb36-7"><a href="#cb36-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(mean))<span class="sc">%&gt;%</span></span>
<span id="cb36-8"><a href="#cb36-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(viewOfSpend<span class="sc">==</span><span class="st">"MilitarySpend_ShareofGovSpend"</span>)</span>
<span id="cb36-9"><a href="#cb36-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-10"><a href="#cb36-10" aria-hidden="true" tabindex="-1"></a>byRegionStats_GovSpend</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 14 × 6
# Groups:   Region [14]
   Region                            viewOfSpend      mean    std     min    max
   &lt;chr&gt;                             &lt;chr&gt;           &lt;dbl&gt;  &lt;dbl&gt;   &lt;dbl&gt;  &lt;dbl&gt;
 1 Middle East                       MilitarySpend… 0.161  0.0757 1.83e-2 0.575 
 2 South Asia                        MilitarySpend… 0.122  0.0511 3.65e-2 0.274 
 3 Eastern Europe                    MilitarySpend… 0.115  0.0887 7.71e-3 0.350 
 4 sub-Saharan Africa                MilitarySpend… 0.103  0.260  3.90e-3 5.82  
 5 South East Asia                   MilitarySpend… 0.0984 0.0749 7.83e-3 0.392 
 6 North Africa                      MilitarySpend… 0.0973 0.0369 2.81e-2 0.178 
 7 East Asia                         MilitarySpend… 0.0837 0.0503 1.73e-2 0.225 
 8 South America                     MilitarySpend… 0.0728 0.0392 1.73e-2 0.348 
 9 North America                     MilitarySpend… 0.0600 0.0386 2.51e-2 0.124 
10 Central Asia                      MilitarySpend… 0.0518 0.0269 1.36e-2 0.158 
11 Oceania                           MilitarySpend… 0.0441 0.0155 1.54e-2 0.0879
12 Central Europe                    MilitarySpend… 0.0439 0.0283 6.72e-4 0.290 
13 Central America and the Caribbean MilitarySpend… 0.0354 0.0218 2.20e-3 0.214 
14 Western Europe                    MilitarySpend… 0.0348 0.0189 8.58e-3 0.164 </code></pre>
</div>
</div>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(forcats)</span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true" tabindex="-1"></a>statsViz2<span class="ot">&lt;-</span> byRegionStats<span class="sc">%&gt;%</span></span>
<span id="cb38-4"><a href="#cb38-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">test =</span> <span class="fu">fct_reorder</span>(Region,<span class="fu">desc</span>(mean)))<span class="sc">%&gt;%</span></span>
<span id="cb38-5"><a href="#cb38-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="at">mapping=</span><span class="fu">aes</span>(<span class="at">y =</span> test, <span class="at">x =</span> mean))<span class="sc">+</span>  </span>
<span id="cb38-6"><a href="#cb38-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">color =</span> Region, <span class="at">alpha=</span><span class="fl">0.9</span>, <span class="at">size=</span>max)) <span class="sc">+</span></span>
<span id="cb38-7"><a href="#cb38-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">guides</span>(<span class="at">alpha=</span><span class="st">"none"</span>,<span class="at">color=</span><span class="st">"none"</span>) <span class="sc">+</span></span>
<span id="cb38-8"><a href="#cb38-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Certain Regions on average spend more than others"</span> ,<span class="at">caption =</span> <span class="st">"Data from SPIRI Military Expediture Database"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in mutate(., test = fct_reorder(Region, desc(mean))): object 'byRegionStats' not found</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a>statsViz2</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in eval(expr, envir, enclos): object 'statsViz2' not found</code></pre>
</div>
</div>
<p>From this we can see the top 6 spenders reside in a cluster of there own when you look at their mean and max spend.</p>
<p>Top 6</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a>top6_mean <span class="ot">&lt;-</span> byRegionStats <span class="sc">%&gt;%</span></span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">head</span>()<span class="sc">%&gt;%</span></span>
<span id="cb42-3"><a href="#cb42-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pull</span>(Region)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in head(.): object 'byRegionStats' not found</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a>top6_mean</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in eval(expr, envir, enclos): object 'top6_mean' not found</code></pre>
</div>
</div>
</section>
</section>
<section id="faceted-by-region-show-mean-spend-of-each-country" class="level2">
<h2 class="anchored" data-anchor-id="faceted-by-region-show-mean-spend-of-each-country">Faceted by Region, show mean spend of each country</h2>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a>byRegionStats_year<span class="ot">&lt;-</span>combinedData<span class="sc">%&gt;%</span></span>
<span id="cb46-2"><a href="#cb46-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Region,viewOfSpend,Year)<span class="sc">%&gt;%</span></span>
<span id="cb46-3"><a href="#cb46-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">mean =</span> <span class="fu">mean</span>(Spend, <span class="at">na.rm=</span><span class="cn">TRUE</span>))<span class="sc">%&gt;%</span></span>
<span id="cb46-4"><a href="#cb46-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(viewOfSpend <span class="sc">==</span> <span class="st">'MilitarySpend_currentUSD'</span>)<span class="sc">%&gt;%</span></span>
<span id="cb46-5"><a href="#cb46-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(mean))</span>
<span id="cb46-6"><a href="#cb46-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-7"><a href="#cb46-7" aria-hidden="true" tabindex="-1"></a>byRegionStats_year</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1,022 × 4
# Groups:   Region, viewOfSpend [14]
   Region        viewOfSpend               Year    mean
   &lt;chr&gt;         &lt;chr&gt;                    &lt;int&gt;   &lt;dbl&gt;
 1 North America MilitarySpend_currentUSD  2021 413561.
 2 North America MilitarySpend_currentUSD  2020 400839.
 3 North America MilitarySpend_currentUSD  2011 386841.
 4 North America MilitarySpend_currentUSD  2010 378660.
 5 North America MilitarySpend_currentUSD  2019 378369.
 6 North America MilitarySpend_currentUSD  2012 372829.
 7 North America MilitarySpend_currentUSD  2009 362427.
 8 North America MilitarySpend_currentUSD  2018 352610.
 9 North America MilitarySpend_currentUSD  2013 348872.
10 North America MilitarySpend_currentUSD  2008 338049.
# … with 1,012 more rows</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a>byRegionplot<span class="ot">&lt;-</span> byRegionStats_year<span class="sc">%&gt;%</span></span>
<span id="cb48-2"><a href="#cb48-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="at">mapping=</span><span class="fu">aes</span>(<span class="at">x =</span> Year, <span class="at">y =</span> mean))<span class="sc">+</span>  </span>
<span id="cb48-3"><a href="#cb48-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">color =</span> Region, <span class="at">alpha=</span><span class="fl">0.9</span>,)) <span class="sc">+</span></span>
<span id="cb48-4"><a href="#cb48-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_light</span>() <span class="sc">+</span></span>
<span id="cb48-5"><a href="#cb48-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">guides</span>(<span class="at">alpha=</span><span class="st">"none"</span>) <span class="sc">+</span></span>
<span id="cb48-6"><a href="#cb48-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"East asia and NA dominate raw spend"</span> ,<span class="at">caption =</span> <span class="st">"Data from SPIRI Military Expediture Database"</span>)</span>
<span id="cb48-7"><a href="#cb48-7" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb48-8"><a href="#cb48-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-9"><a href="#cb48-9" aria-hidden="true" tabindex="-1"></a>byRegionplot</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="Final-Project-_HW3_-JulianCastoro_files/figure-html/123-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="to-be-a-little-less-noisy-showing-the-top-6-spenders-over-time" class="level2">
<h2 class="anchored" data-anchor-id="to-be-a-little-less-noisy-showing-the-top-6-spenders-over-time">To be a little less noisy, showing the top 6 spenders over time</h2>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a>byRegionStats_year_top6<span class="ot">&lt;-</span>combinedData<span class="sc">%&gt;%</span></span>
<span id="cb49-2"><a href="#cb49-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Region,viewOfSpend,Year)<span class="sc">%&gt;%</span></span>
<span id="cb49-3"><a href="#cb49-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">mean =</span> <span class="fu">mean</span>(Spend, <span class="at">na.rm=</span><span class="cn">TRUE</span>))<span class="sc">%&gt;%</span></span>
<span id="cb49-4"><a href="#cb49-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(viewOfSpend <span class="sc">==</span> <span class="st">'MilitarySpend_currentUSD'</span>)<span class="sc">%&gt;%</span></span>
<span id="cb49-5"><a href="#cb49-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Region <span class="sc">==</span> top6_mean)<span class="sc">%&gt;%</span></span>
<span id="cb49-6"><a href="#cb49-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(mean))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in `filter()`:
! Problem while computing `..1 = Region == top6_mean`.
ℹ The error occurred in group 1: Region = "Central America and the Caribbean",
  viewOfSpend = "MilitarySpend_currentUSD".
Caused by error in `mask$eval_all_filter()`:
! object 'top6_mean' not found</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a>byRegionplot_top6<span class="ot">&lt;-</span> byRegionStats_year_top6<span class="sc">%&gt;%</span></span>
<span id="cb51-2"><a href="#cb51-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="at">mapping=</span><span class="fu">aes</span>(<span class="at">x =</span> Year, <span class="at">y =</span> mean))<span class="sc">+</span>  </span>
<span id="cb51-3"><a href="#cb51-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">color =</span> Region, <span class="at">alpha=</span><span class="fl">0.9</span>,)) <span class="sc">+</span></span>
<span id="cb51-4"><a href="#cb51-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="fu">vars</span>(<span class="st">`</span><span class="at">Region</span><span class="st">`</span>),<span class="at">scales =</span> <span class="st">"free_y"</span>) <span class="sc">+</span></span>
<span id="cb51-5"><a href="#cb51-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Raw Mean Spend in USD for top 6 Spenders"</span> ,<span class="at">caption =</span> <span class="st">"Data from SPIRI Military Expediture Database"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in ggplot(., mapping = aes(x = Year, y = mean)): object 'byRegionStats_year_top6' not found</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a>byRegionplot_top6</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in eval(expr, envir, enclos): object 'byRegionplot_top6' not found</code></pre>
</div>
</div>
<p>From here I choose to investigate Eastern Europe.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a>byRegionStats_year_EasternEurope<span class="ot">&lt;-</span>combinedData<span class="sc">%&gt;%</span></span>
<span id="cb55-2"><a href="#cb55-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Region,viewOfSpend,Year)<span class="sc">%&gt;%</span></span>
<span id="cb55-3"><a href="#cb55-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(viewOfSpend <span class="sc">==</span> <span class="st">'MilitarySpend_currentUSD'</span>)<span class="sc">%&gt;%</span></span>
<span id="cb55-4"><a href="#cb55-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Region <span class="sc">==</span> <span class="st">'Eastern Europe'</span>)</span>
<span id="cb55-5"><a href="#cb55-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-6"><a href="#cb55-6" aria-hidden="true" tabindex="-1"></a>EasternEuropePlot<span class="ot">&lt;-</span> byRegionStats_year_EasternEurope<span class="sc">%&gt;%</span></span>
<span id="cb55-7"><a href="#cb55-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="at">mapping=</span><span class="fu">aes</span>(<span class="at">x =</span> Year, <span class="at">y =</span> Spend))<span class="sc">+</span>  </span>
<span id="cb55-8"><a href="#cb55-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">color =</span> Country, <span class="at">alpha=</span><span class="fl">0.9</span>)) <span class="sc">+</span></span>
<span id="cb55-9"><a href="#cb55-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="fu">vars</span>(<span class="st">`</span><span class="at">Country</span><span class="st">`</span>)) <span class="sc">+</span></span>
<span id="cb55-10"><a href="#cb55-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Raw Mean Spend in Eastern Europe"</span> ,<span class="at">caption =</span> <span class="st">"Data from SPIRI Military Expediture Database"</span>)</span>
<span id="cb55-11"><a href="#cb55-11" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb55-12"><a href="#cb55-12" aria-hidden="true" tabindex="-1"></a>EasternEuropePlot</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="Final-Project-_HW3_-JulianCastoro_files/figure-html/unnamed-chunk-28-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>I left the scaling fixed so that you could see how high USSR spending was and then they become Russia and spend slowley increases but not to the levels of the USSR.</p>
<p>We see here that USSR spending looks to be about late 1990s, following some research I found…</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb56"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a>startOfNoData<span class="ot">&lt;-</span> <span class="dv">1985</span></span>
<span id="cb56-2"><a href="#cb56-2" aria-hidden="true" tabindex="-1"></a>endofNoData<span class="ot">&lt;-</span> <span class="dv">1995</span></span>
<span id="cb56-3"><a href="#cb56-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-4"><a href="#cb56-4" aria-hidden="true" tabindex="-1"></a>USSRSpendPlot<span class="ot">&lt;-</span>combinedData<span class="sc">%&gt;%</span></span>
<span id="cb56-5"><a href="#cb56-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Country <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"USSR"</span>,<span class="st">"Russia"</span>))<span class="sc">%&gt;%</span></span>
<span id="cb56-6"><a href="#cb56-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(viewOfSpend <span class="sc">==</span> <span class="st">'MilitarySpend_currentUSD'</span>)<span class="sc">%&gt;%</span></span>
<span id="cb56-7"><a href="#cb56-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggplot</span>(<span class="at">mapping=</span><span class="fu">aes</span>( <span class="at">x =</span> Year,<span class="at">y =</span> Spend,<span class="at">color =</span> <span class="st">`</span><span class="at">Country</span><span class="st">`</span>))<span class="sc">+</span></span>
<span id="cb56-8"><a href="#cb56-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>()</span>
<span id="cb56-9"><a href="#cb56-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-10"><a href="#cb56-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-11"><a href="#cb56-11" aria-hidden="true" tabindex="-1"></a>USSRSpendPlot<span class="sc">+</span></span>
<span id="cb56-12"><a href="#cb56-12" aria-hidden="true" tabindex="-1"></a><span class="fu">geom_vline</span>(<span class="at">xintercept =</span> <span class="dv">1987</span>,<span class="at">color=</span><span class="st">"red"</span>)<span class="sc">+</span></span>
<span id="cb56-13"><a href="#cb56-13" aria-hidden="true" tabindex="-1"></a><span class="fu">annotate</span>(<span class="st">"text"</span>,<span class="at">x=</span><span class="dv">1987</span>,<span class="at">y=</span><span class="dv">0</span>,<span class="at">label=</span><span class="st">"1987"</span>,<span class="at">hjust=</span><span class="dv">1</span>,<span class="at">vjust=</span><span class="sc">-</span><span class="dv">0</span>,<span class="at">color=</span><span class="st">"red"</span>)<span class="sc">+</span></span>
<span id="cb56-14"><a href="#cb56-14" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb56-15"><a href="#cb56-15" aria-hidden="true" tabindex="-1"></a><span class="fu">geom_vline</span>(<span class="at">xintercept =</span> <span class="dv">1990</span>,<span class="at">color=</span><span class="st">"red"</span>)<span class="sc">+</span></span>
<span id="cb56-16"><a href="#cb56-16" aria-hidden="true" tabindex="-1"></a><span class="fu">annotate</span>(<span class="st">"text"</span>,<span class="at">x=</span><span class="dv">1990</span>,<span class="at">y=</span><span class="dv">0</span>,<span class="at">label=</span><span class="st">"1990"</span>,<span class="at">hjust=</span><span class="sc">-</span><span class="dv">0</span>,<span class="at">vjust=</span><span class="sc">-</span><span class="dv">0</span>,<span class="at">color=</span><span class="st">"red"</span>)<span class="sc">+</span></span>
<span id="cb56-17"><a href="#cb56-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-18"><a href="#cb56-18" aria-hidden="true" tabindex="-1"></a><span class="fu">geom_vline</span>(<span class="at">xintercept =</span> <span class="dv">1945</span>,<span class="at">color=</span><span class="st">"black"</span>)<span class="sc">+</span></span>
<span id="cb56-19"><a href="#cb56-19" aria-hidden="true" tabindex="-1"></a><span class="fu">annotate</span>(<span class="st">"text"</span>,<span class="at">x=</span><span class="dv">1945</span>,<span class="at">y=</span><span class="dv">0</span>,<span class="at">label=</span><span class="st">"Start of Cold War, Defeat of Germany and Japan"</span>,<span class="at">hjust=</span><span class="sc">-</span><span class="dv">0</span>,<span class="at">vjust=</span><span class="sc">-</span><span class="dv">0</span>,<span class="at">color=</span><span class="st">"black"</span>,<span class="at">angle=</span><span class="st">'90'</span>)<span class="sc">+</span></span>
<span id="cb56-20"><a href="#cb56-20" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb56-21"><a href="#cb56-21" aria-hidden="true" tabindex="-1"></a><span class="fu">geom_vline</span>(<span class="at">xintercept =</span> <span class="dv">1985</span>,<span class="at">color=</span><span class="st">"black"</span>)<span class="sc">+</span></span>
<span id="cb56-22"><a href="#cb56-22" aria-hidden="true" tabindex="-1"></a><span class="fu">annotate</span>(<span class="st">"text"</span>,<span class="at">x=</span><span class="dv">1985</span>,<span class="at">y=</span><span class="dv">0</span>,<span class="at">label=</span><span class="st">"Mikhail Gorbachev becomes leader of the USSR"</span>,<span class="at">hjust=</span><span class="sc">-</span><span class="fl">0.1</span>,<span class="at">vjust=</span><span class="sc">-</span><span class="dv">0</span>,<span class="at">color=</span><span class="st">"black"</span>,<span class="at">angle=</span><span class="st">'90'</span>)<span class="sc">+</span></span>
<span id="cb56-23"><a href="#cb56-23" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb56-24"><a href="#cb56-24" aria-hidden="true" tabindex="-1"></a><span class="fu">geom_vline</span>(<span class="at">xintercept =</span> <span class="dv">1991</span>,<span class="at">color=</span><span class="st">"black"</span>)<span class="sc">+</span></span>
<span id="cb56-25"><a href="#cb56-25" aria-hidden="true" tabindex="-1"></a><span class="fu">annotate</span>(<span class="st">"text"</span>,<span class="at">x=</span><span class="dv">1991</span>,<span class="at">y=</span><span class="dv">0</span>,<span class="at">label=</span><span class="st">"1991 End of Cold War, USSR disbanded"</span>,<span class="at">hjust=</span><span class="sc">-</span><span class="fl">0.1</span>,<span class="at">vjust=</span><span class="dv">1</span>,<span class="at">color=</span><span class="st">"black"</span>,<span class="at">angle=</span><span class="st">'90'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="Final-Project-_HW3_-JulianCastoro_files/figure-html/unnamed-chunk-29-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>From this view of the information it leads one to believe the USSR spending was very high during the cold war, I am unsure why we were given access to their spending towards the end of the cold war, it could have been a show of good faith, more research to come. Once the war was declared over, Russian spending fell to 0 in the following year and slowly started creeping back up.</p>
<p>Another area of research i get from this would be what happened in 2003- 2004 to spike the trend in Russian spending.</p>
</section>
<section id="hw-questions" class="level2">
<h2 class="anchored" data-anchor-id="hw-questions">HW Questions</h2>
<section id="what-questions-are-left-unanswered" class="level3">
<h3 class="anchored" data-anchor-id="what-questions-are-left-unanswered">what questions are left unanswered?</h3>
<p>Russian spending during 2003-2004</p>
<p>The rest of my outlined possible questions from HW2 will still be answered, their answer was just not obvious from the summary statistics.</p>
</section>
<section id="what-may-be-unclear" class="level3">
<h3 class="anchored" data-anchor-id="what-may-be-unclear">what may be unclear?</h3>
<p>In order to improve some of these charts I could include some information about global spending at the time or perhaps augment the information to display it as a portion of global military spend? - If i showed percent of global(or engaged parties) military spend it would be interesting to show if just spending more would win the wars.</p>
</section>
<section id="how-could-i-improve-these-vizualizations" class="level3">
<h3 class="anchored" data-anchor-id="how-could-i-improve-these-vizualizations">How could I improve these vizualizations</h3>
<p>I could change the view of some of these visualizations so that they are more appealing. I liked the use of the violin plot for the Gulf War analysis and will use more variety in graphs for the final.</p>
</section>
</section>
<section id="conclusion" class="level2">
<h2 class="anchored" data-anchor-id="conclusion">Conclusion</h2>
<blockquote class="blockquote">
<p>“Every gun that is made, every warship launched, every rocket fired signifies in the final sense, a theft from those who hunger and are not fed, those who are cold and are not clothed. &gt; &gt; This world in arms is not spending money alone. It is spending the sweat of its laborers, the genius of its scientists, the hopes of its children. This is not a way of life at all in any &gt; true sense. Under the clouds of war, it is humanity hanging on a cross of iron.”</p>
</blockquote>
<p>Dwight D. Eisenhower</p>
<p>Citations: https://www.goodreads.com/quotes/tag/military-budget#:~:text=%E2%80%9CEvery%20gun%20that%20is%20made,is%20not%20spending%20money%20alone.</p>
<p>https://www.sipri.org/about</p>
<p>R Core Team (2017). R: A language and environment for statistical computing. R Foundation for Statistical Computing, Vienna, Austria. URL https://www.R-project.org/.</p>
<p>Wickham, H., &amp; Grolemund, G. (2016). R for data science: Visualize, model, transform, tidy, and import data. OReilly Media.</p>
<p>https://www.investopedia.com/terms/g/gdp.asp</p>
<p>Appendix: Full descriptions as provided by SIPRI:</p>
<ol type="1">
<li>Introduction</li>
<li>Estimates of world, regional and sub-regional totals in constant (2019) US$ (billions).</li>
<li>Data for military expenditure by country in current price local currency, presented according to each country’s financial year.</li>
<li>Data for military expenditure by country in current price local currency, presented according to calendar year.</li>
<li>Data for military expenditure by country in constant price (2019) US$ (millions), presented according to calendar year, and in current US$m. for 2020.</li>
<li>Data for military expenditure by country in current US$ (millions), presented according to calendar year.</li>
<li>Data for military expenditure by country as a share of GDP, presented according to calendar year.</li>
<li>Data for military expenditure per capita, in current US$, presented according to calender year. (1988-2020 only)</li>
<li>Data for military expenditure as a percentage of general government expenditure. (1988-2020 only)</li>
</ol>


<!-- -->

</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  let localAlternateSentinel = 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } 
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    setTimeout(function() {
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  const viewSource = window.document.getElementById('quarto-view-source') ||
                     window.document.getElementById('quarto-code-tools-source');
  if (viewSource) {
    const sourceUrl = viewSource.getAttribute("data-quarto-source-url");
    viewSource.addEventListener("click", function(e) {
      if (sourceUrl) {
        // rstudio viewer pane
        if (/\bcapabilities=\b/.test(window.location)) {
          window.open(sourceUrl);
        } else {
          window.location.href = sourceUrl;
        }
      } else {
        const modal = new bootstrap.Modal(document.getElementById('quarto-embedded-source-code-modal'));
        modal.show();
      }
      return false;
    });
  }
  function toggleCodeHandler(show) {
    return function(e) {
      const detailsSrc = window.document.querySelectorAll(".cell > details > .sourceCode");
      for (let i=0; i<detailsSrc.length; i++) {
        const details = detailsSrc[i].parentElement;
        if (show) {
          details.open = true;
        } else {
          details.removeAttribute("open");
        }
      }
      const cellCodeDivs = window.document.querySelectorAll(".cell > .sourceCode");
      const fromCls = show ? "hidden" : "unhidden";
      const toCls = show ? "unhidden" : "hidden";
      for (let i=0; i<cellCodeDivs.length; i++) {
        const codeDiv = cellCodeDivs[i];
        if (codeDiv.classList.contains(fromCls)) {
          codeDiv.classList.remove(fromCls);
          codeDiv.classList.add(toCls);
        } 
      }
      return false;
    }
  }
  const hideAllCode = window.document.getElementById("quarto-hide-all-code");
  if (hideAllCode) {
    hideAllCode.addEventListener("click", toggleCodeHandler(false));
  }
  const showAllCode = window.document.getElementById("quarto-show-all-code");
  if (showAllCode) {
    showAllCode.addEventListener("click", toggleCodeHandler(true));
  }
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      let href = ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const cites = ref.parentNode.getAttribute('data-cites').split(' ');
    tippyHover(ref, function() {
      var popup = window.document.createElement('div');
      cites.forEach(function(cite) {
        var citeDiv = window.document.createElement('div');
        citeDiv.classList.add('hanging-indent');
        citeDiv.classList.add('csl-entry');
        var biblioDiv = window.document.getElementById('ref-' + cite);
        if (biblioDiv) {
          citeDiv.innerHTML = biblioDiv.innerHTML;
        }
        popup.appendChild(citeDiv);
      });
      return popup.innerHTML;
    });
  }
});
</script>
<script src="https://giscus.app/client.js" data-repo="DACSS/601_Fall_2022" data-repo-id="R_kgDOH564Gw" data-category="Announcements" data-category-id="DIC_kwDOH564G84CRdBB" data-mapping="title" data-reactions-enabled="1" data-emit-metadata="0" data-input-position="top" data-theme="light" data-lang="en" crossorigin="anonymous" async="">
</script><div class="modal fade" id="quarto-embedded-source-code-modal" tabindex="-1" aria-labelledby="quarto-embedded-source-code-modal-label" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable"><div class="modal-content"><div class="modal-header"><h5 class="modal-title" id="quarto-embedded-source-code-modal-label">Source Code</h5><button class="btn-close" data-bs-dismiss="modal"></button></div><div class="modal-body"><div class="">
<div class="sourceCode" id="cb57" data-shortcodes="false"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb57-2"><a href="#cb57-2" aria-hidden="true" tabindex="-1"></a><span class="an">title:</span><span class="co"> "Global Military Spending - An Analysis"</span></span>
<span id="cb57-3"><a href="#cb57-3" aria-hidden="true" tabindex="-1"></a><span class="an">description:</span><span class="co"> "Hw_3"</span></span>
<span id="cb57-4"><a href="#cb57-4" aria-hidden="true" tabindex="-1"></a><span class="an">author:</span><span class="co"> "Julian Castoro"</span></span>
<span id="cb57-5"><a href="#cb57-5" aria-hidden="true" tabindex="-1"></a><span class="an">date:</span><span class="co"> "`r Sys.Date()`"</span></span>
<span id="cb57-6"><a href="#cb57-6" aria-hidden="true" tabindex="-1"></a><span class="an">format:</span></span>
<span id="cb57-7"><a href="#cb57-7" aria-hidden="true" tabindex="-1"></a><span class="co">  html:</span></span>
<span id="cb57-8"><a href="#cb57-8" aria-hidden="true" tabindex="-1"></a><span class="co">    toc: true</span></span>
<span id="cb57-9"><a href="#cb57-9" aria-hidden="true" tabindex="-1"></a><span class="co">    code-fold: true</span></span>
<span id="cb57-10"><a href="#cb57-10" aria-hidden="true" tabindex="-1"></a><span class="co">    code-copy: true</span></span>
<span id="cb57-11"><a href="#cb57-11" aria-hidden="true" tabindex="-1"></a><span class="co">    code-tools: true</span></span>
<span id="cb57-12"><a href="#cb57-12" aria-hidden="true" tabindex="-1"></a><span class="an">output:</span><span class="co"> distill::distill_article</span></span>
<span id="cb57-13"><a href="#cb57-13" aria-hidden="true" tabindex="-1"></a><span class="an">categories:</span></span>
<span id="cb57-14"><a href="#cb57-14" aria-hidden="true" tabindex="-1"></a><span class="co">  - Homework3</span></span>
<span id="cb57-15"><a href="#cb57-15" aria-hidden="true" tabindex="-1"></a><span class="co">  - Julian Castoro</span></span>
<span id="cb57-16"><a href="#cb57-16" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb57-17"><a href="#cb57-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-20"><a href="#cb57-20" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb57-21"><a href="#cb57-21" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: setup</span></span>
<span id="cb57-22"><a href="#cb57-22" aria-hidden="true" tabindex="-1"></a><span class="co">#| warning: false</span></span>
<span id="cb57-23"><a href="#cb57-23" aria-hidden="true" tabindex="-1"></a><span class="co">#| message: false</span></span>
<span id="cb57-24"><a href="#cb57-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-25"><a href="#cb57-25" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb57-26"><a href="#cb57-26" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(lubridate)</span>
<span id="cb57-27"><a href="#cb57-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-28"><a href="#cb57-28" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb57-29"><a href="#cb57-29" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(gganimate)</span>
<span id="cb57-30"><a href="#cb57-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-31"><a href="#cb57-31" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(readxl)</span>
<span id="cb57-32"><a href="#cb57-32" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb57-33"><a href="#cb57-33" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(purrr)</span>
<span id="cb57-34"><a href="#cb57-34" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(lubridate)</span>
<span id="cb57-35"><a href="#cb57-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-36"><a href="#cb57-36" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(leaflet)</span>
<span id="cb57-37"><a href="#cb57-37" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-38"><a href="#cb57-38" aria-hidden="true" tabindex="-1"></a><span class="fu">options</span>(<span class="at">digits =</span> <span class="dv">3</span>,<span class="at">decimals=</span><span class="dv">2</span>)</span>
<span id="cb57-39"><a href="#cb57-39" aria-hidden="true" tabindex="-1"></a><span class="fu">options</span>(<span class="at">scipen =</span> <span class="dv">999</span>)</span>
<span id="cb57-40"><a href="#cb57-40" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span>opts_chunk<span class="sc">$</span><span class="fu">set</span>(<span class="at">echo =</span> <span class="cn">TRUE</span>, <span class="at">warning=</span><span class="cn">FALSE</span>, <span class="at">message=</span><span class="cn">FALSE</span>)</span>
<span id="cb57-41"><a href="#cb57-41" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb57-42"><a href="#cb57-42" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-43"><a href="#cb57-43" aria-hidden="true" tabindex="-1"></a><span class="fu">## Introduction</span></span>
<span id="cb57-44"><a href="#cb57-44" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-45"><a href="#cb57-45" aria-hidden="true" tabindex="-1"></a>For HW3 I am not outputting any of the cleaning however I am leaving it in for reference.</span>
<span id="cb57-46"><a href="#cb57-46" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-47"><a href="#cb57-47" aria-hidden="true" tabindex="-1"></a>The intent of this homework for me was to show how playing around with the descriptive statistics is a great idea for exploring your data. The questions I originally had intended to answer with the graphs lead to new questions and at the end of this has added a new time period for my final project to investigate.</span>
<span id="cb57-48"><a href="#cb57-48" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-49"><a href="#cb57-49" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-50"><a href="#cb57-50" aria-hidden="true" tabindex="-1"></a>Had I simply ommitted the outline I found in the data or changed my groupings to hide it, I would not have thought to highlight this time in history.</span>
<span id="cb57-51"><a href="#cb57-51" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-52"><a href="#cb57-52" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-53"><a href="#cb57-53" aria-hidden="true" tabindex="-1"></a><span class="fu">## Data</span></span>
<span id="cb57-54"><a href="#cb57-54" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-55"><a href="#cb57-55" aria-hidden="true" tabindex="-1"></a><span class="fu">### Briefly describe the data</span></span>
<span id="cb57-56"><a href="#cb57-56" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-57"><a href="#cb57-57" aria-hidden="true" tabindex="-1"></a>Below is a list of the available sheets in the SIPRI military spending data export. A few of the tabs are the same base information altered to reflect a specific currency or ratio. I am choosing to use the "Current USD" as my source of raw spending numbers as I believe it to be the easiest to understand and relate to. I will also be using "share of GDP" as well as "Share of Govt. spending" to provide context around a nations spending compared to their population they intend on defending as well as compared to overall spending. </span>
<span id="cb57-58"><a href="#cb57-58" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-59"><a href="#cb57-59" aria-hidden="true" tabindex="-1"></a><span class="fu">### Description of data I will use </span></span>
<span id="cb57-60"><a href="#cb57-60" aria-hidden="true" tabindex="-1"></a>"Gross domestic product (GDP) is the total monetary or market value of all the finished goods and services produced within a country’s borders in a specific time period." - investopedia </span>
<span id="cb57-61"><a href="#cb57-61" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-64"><a href="#cb57-64" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb57-65"><a href="#cb57-65" aria-hidden="true" tabindex="-1"></a>sheets <span class="ot">&lt;-</span> <span class="fu">excel_sheets</span>(<span class="st">"_data/SIPRI-Milex-data-1949-2021.xlsx"</span>)</span>
<span id="cb57-66"><a href="#cb57-66" aria-hidden="true" tabindex="-1"></a><span class="co">#sheets</span></span>
<span id="cb57-67"><a href="#cb57-67" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-68"><a href="#cb57-68" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb57-69"><a href="#cb57-69" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-70"><a href="#cb57-70" aria-hidden="true" tabindex="-1"></a><span class="fu">### Where did this information come from?</span></span>
<span id="cb57-71"><a href="#cb57-71" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-72"><a href="#cb57-72" aria-hidden="true" tabindex="-1"></a>The Military spending information I am analyzing comes from **SIPRI**, the **S**tockholm **I**nternational **P**eace **R**esearch **I**nstitute. SIPRI was established in 1966 for the purpose of "research into conflict, armaments, arms control and disarmament". The organization is funded by the Swedish government however it regularly works internationally with research centers around the globe. SIPRI collected this particular data set from the official reports of each of the included governments in the form of official publications such as public budgets.</span>
<span id="cb57-73"><a href="#cb57-73" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-74"><a href="#cb57-74" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-75"><a href="#cb57-75" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-76"><a href="#cb57-76" aria-hidden="true" tabindex="-1"></a>Here is a peek at what the raw information looks like.</span>
<span id="cb57-79"><a href="#cb57-79" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb57-80"><a href="#cb57-80" aria-hidden="true" tabindex="-1"></a><span class="co">#| warning: false</span></span>
<span id="cb57-81"><a href="#cb57-81" aria-hidden="true" tabindex="-1"></a><span class="co">#| message: false</span></span>
<span id="cb57-82"><a href="#cb57-82" aria-hidden="true" tabindex="-1"></a>rawrawData_ShareOfGovSpend <span class="ot">&lt;-</span> <span class="fu">read_excel</span>(<span class="st">"_data/SIPRI-Milex-data-1949-2021.xlsx"</span>,<span class="at">sheet=</span>sheets[<span class="dv">9</span>])</span>
<span id="cb57-83"><a href="#cb57-83" aria-hidden="true" tabindex="-1"></a><span class="co">#head(rawrawData_ShareOfGovSpend)</span></span>
<span id="cb57-84"><a href="#cb57-84" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-85"><a href="#cb57-85" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb57-86"><a href="#cb57-86" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-87"><a href="#cb57-87" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-88"><a href="#cb57-88" aria-hidden="true" tabindex="-1"></a><span class="fu">### Reading in Raw information</span></span>
<span id="cb57-89"><a href="#cb57-89" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-90"><a href="#cb57-90" aria-hidden="true" tabindex="-1"></a>Reading in raw information</span>
<span id="cb57-91"><a href="#cb57-91" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-92"><a href="#cb57-92" aria-hidden="true" tabindex="-1"></a>The data provided by the Stockholm International Peace Research Institute(sipri) was separated into multiple tabs in one excel .xlsx file. </span>
<span id="cb57-93"><a href="#cb57-93" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-94"><a href="#cb57-94" aria-hidden="true" tabindex="-1"></a>In order to begin working I imported the tabs I planned to utilize, skipping over some of the notes and title rows at the start of each tab.</span>
<span id="cb57-95"><a href="#cb57-95" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-96"><a href="#cb57-96" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-97"><a href="#cb57-97" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-100"><a href="#cb57-100" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb57-101"><a href="#cb57-101" aria-hidden="true" tabindex="-1"></a>rawData_CurrentUSD <span class="ot">&lt;-</span> <span class="fu">read_excel</span>(<span class="st">"_data/SIPRI-Milex-data-1949-2021.xlsx"</span>,<span class="at">sheet=</span>sheets[<span class="dv">6</span>],<span class="at">skip=</span><span class="dv">5</span>)</span>
<span id="cb57-102"><a href="#cb57-102" aria-hidden="true" tabindex="-1"></a>rawData_ShareOfGDP <span class="ot">&lt;-</span> <span class="fu">read_excel</span>(<span class="st">"_data/SIPRI-Milex-data-1949-2021.xlsx"</span>,<span class="at">sheet=</span>sheets[<span class="dv">7</span>],<span class="at">skip=</span><span class="dv">5</span>)</span>
<span id="cb57-103"><a href="#cb57-103" aria-hidden="true" tabindex="-1"></a>rawData_ShareOfGovSpend <span class="ot">&lt;-</span> <span class="fu">read_excel</span>(<span class="st">"_data/SIPRI-Milex-data-1949-2021.xlsx"</span>,<span class="at">sheet=</span>sheets[<span class="dv">9</span>],<span class="at">skip=</span><span class="dv">7</span>)</span>
<span id="cb57-104"><a href="#cb57-104" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-105"><a href="#cb57-105" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-106"><a href="#cb57-106" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-107"><a href="#cb57-107" aria-hidden="true" tabindex="-1"></a><span class="co">#head(rawData_CurrentUSD)</span></span>
<span id="cb57-108"><a href="#cb57-108" aria-hidden="true" tabindex="-1"></a><span class="co">#head(rawData_ShareOfGDP)</span></span>
<span id="cb57-109"><a href="#cb57-109" aria-hidden="true" tabindex="-1"></a><span class="co">#head(rawData_ShareOfGovSpend)</span></span>
<span id="cb57-110"><a href="#cb57-110" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-111"><a href="#cb57-111" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb57-112"><a href="#cb57-112" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-113"><a href="#cb57-113" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-114"><a href="#cb57-114" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-115"><a href="#cb57-115" aria-hidden="true" tabindex="-1"></a>Next I delete the first row of NA as well as the Notes column for each tibble.</span>
<span id="cb57-116"><a href="#cb57-116" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-119"><a href="#cb57-119" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb57-120"><a href="#cb57-120" aria-hidden="true" tabindex="-1"></a><span class="do">## trying Purr here to be cleaner, we have not covered this yet so please let me know if this could be better.</span></span>
<span id="cb57-121"><a href="#cb57-121" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-122"><a href="#cb57-122" aria-hidden="true" tabindex="-1"></a><span class="co">#tibleList &lt;- lst(rawData_CurrentUSD, rawData_ShareOfGDP, rawData_ShareOfGovSpend)</span></span>
<span id="cb57-123"><a href="#cb57-123" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-124"><a href="#cb57-124" aria-hidden="true" tabindex="-1"></a><span class="co"># could pur this with my func i bet</span></span>
<span id="cb57-125"><a href="#cb57-125" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-126"><a href="#cb57-126" aria-hidden="true" tabindex="-1"></a><span class="do">## not working ^^</span></span>
<span id="cb57-127"><a href="#cb57-127" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-128"><a href="#cb57-128" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-129"><a href="#cb57-129" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-130"><a href="#cb57-130" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-131"><a href="#cb57-131" aria-hidden="true" tabindex="-1"></a>rawData_CurrentUSD <span class="ot">&lt;-</span> rawData_CurrentUSD[<span class="sc">-</span><span class="dv">1</span>,]  <span class="sc">%&gt;%</span></span>
<span id="cb57-132"><a href="#cb57-132" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>Notes)</span>
<span id="cb57-133"><a href="#cb57-133" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-134"><a href="#cb57-134" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-135"><a href="#cb57-135" aria-hidden="true" tabindex="-1"></a>rawData_ShareOfGDP <span class="ot">&lt;-</span> rawData_ShareOfGDP[<span class="sc">-</span><span class="dv">1</span>,] <span class="sc">%&gt;%</span></span>
<span id="cb57-136"><a href="#cb57-136" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>Notes)</span>
<span id="cb57-137"><a href="#cb57-137" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-138"><a href="#cb57-138" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-139"><a href="#cb57-139" aria-hidden="true" tabindex="-1"></a>rawData_ShareOfGovSpend <span class="ot">&lt;-</span> rawData_ShareOfGovSpend[<span class="sc">-</span><span class="dv">1</span>,] <span class="sc">%&gt;%</span></span>
<span id="cb57-140"><a href="#cb57-140" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span><span class="dv">2</span><span class="sc">:-</span><span class="dv">3</span>)</span>
<span id="cb57-141"><a href="#cb57-141" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-142"><a href="#cb57-142" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-143"><a href="#cb57-143" aria-hidden="true" tabindex="-1"></a><span class="co">#head(rawData_CurrentUSD)</span></span>
<span id="cb57-144"><a href="#cb57-144" aria-hidden="true" tabindex="-1"></a><span class="co">#head(rawData_ShareOfGDP)</span></span>
<span id="cb57-145"><a href="#cb57-145" aria-hidden="true" tabindex="-1"></a><span class="co">#head(rawData_ShareOfGovSpend)  </span></span>
<span id="cb57-146"><a href="#cb57-146" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-147"><a href="#cb57-147" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-148"><a href="#cb57-148" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-149"><a href="#cb57-149" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb57-150"><a href="#cb57-150" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-151"><a href="#cb57-151" aria-hidden="true" tabindex="-1"></a><span class="fu">### Tidying Data</span></span>
<span id="cb57-152"><a href="#cb57-152" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-153"><a href="#cb57-153" aria-hidden="true" tabindex="-1"></a>Before pivoting my data I wanted to add a column for region. I chose to do this with an algorithm as an exercise in iteration however it would have been more practical to just hard code this column.</span>
<span id="cb57-154"><a href="#cb57-154" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-155"><a href="#cb57-155" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Before Pivoting I am adding a column for region</span></span>
<span id="cb57-156"><a href="#cb57-156" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-157"><a href="#cb57-157" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-158"><a href="#cb57-158" aria-hidden="true" tabindex="-1"></a>The list of countries where there are NA's for every year:</span>
<span id="cb57-161"><a href="#cb57-161" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb57-162"><a href="#cb57-162" aria-hidden="true" tabindex="-1"></a>Regions <span class="ot">&lt;-</span> rawData_CurrentUSD <span class="sc">%&gt;%</span></span>
<span id="cb57-163"><a href="#cb57-163" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">is.na</span>(<span class="st">`</span><span class="at">1949</span><span class="st">`</span>))<span class="sc">%&gt;%</span></span>
<span id="cb57-164"><a href="#cb57-164" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(Country)</span>
<span id="cb57-165"><a href="#cb57-165" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-166"><a href="#cb57-166" aria-hidden="true" tabindex="-1"></a><span class="co">#Regions</span></span>
<span id="cb57-167"><a href="#cb57-167" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb57-168"><a href="#cb57-168" aria-hidden="true" tabindex="-1"></a>You will notice that some of these are continents and sub-continents, I wanted to break these into a <span class="in">`Region`</span> field. The pattern I saw and chose to exploit was the fact that the overarching category would always be followed with a more specific category such as the **Africa** followed by **North Africa** values (see earlier print outs to see raw information). </span>
<span id="cb57-169"><a href="#cb57-169" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-170"><a href="#cb57-170" aria-hidden="true" tabindex="-1"></a>I then added an empty vector into the tibble and populated it according to the Country column using the pattern described above.</span>
<span id="cb57-171"><a href="#cb57-171" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-172"><a href="#cb57-172" aria-hidden="true" tabindex="-1"></a>Once I had left flags in the region column dictating where each region was starting I could use <span class="in">`fill(Region)`</span> in order to populate the rest of the column.</span>
<span id="cb57-173"><a href="#cb57-173" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-176"><a href="#cb57-176" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb57-177"><a href="#cb57-177" aria-hidden="true" tabindex="-1"></a>emptyRegionCol <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(<span class="fu">vector</span>(<span class="at">mode =</span> <span class="st">"character"</span>,<span class="at">length =</span> <span class="fu">length</span>(rawData_CurrentUSD<span class="sc">$</span><span class="st">`</span><span class="at">1949</span><span class="st">`</span>)))<span class="do">## doing as numeric here as a hacky way to fill this with NA's, any better way?</span></span>
<span id="cb57-178"><a href="#cb57-178" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-179"><a href="#cb57-179" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-180"><a href="#cb57-180" aria-hidden="true" tabindex="-1"></a><span class="co">#adding col to tibble to be populated later</span></span>
<span id="cb57-181"><a href="#cb57-181" aria-hidden="true" tabindex="-1"></a>mutated_CurrentUSD <span class="ot">&lt;-</span> rawData_CurrentUSD <span class="sc">%&gt;%</span></span>
<span id="cb57-182"><a href="#cb57-182" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Region =</span>emptyRegionCol,<span class="at">.before=</span><span class="dv">2</span>)</span>
<span id="cb57-183"><a href="#cb57-183" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-184"><a href="#cb57-184" aria-hidden="true" tabindex="-1"></a><span class="co">#mutated_CurrentUSD</span></span>
<span id="cb57-185"><a href="#cb57-185" aria-hidden="true" tabindex="-1"></a><span class="co">#head(mutated_CurrentUSD)</span></span>
<span id="cb57-186"><a href="#cb57-186" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-187"><a href="#cb57-187" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-188"><a href="#cb57-188" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-189"><a href="#cb57-189" aria-hidden="true" tabindex="-1"></a><span class="co"># replacing the empty char in region with actual region if 2 NAs appear in a row</span></span>
<span id="cb57-190"><a href="#cb57-190" aria-hidden="true" tabindex="-1"></a>  <span class="co">#iterates along the indices of the Country vector</span></span>
<span id="cb57-191"><a href="#cb57-191" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span>(i <span class="cf">in</span> <span class="fu">seq_along</span>(mutated_CurrentUSD<span class="sc">$</span>Country) ){</span>
<span id="cb57-192"><a href="#cb57-192" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb57-193"><a href="#cb57-193" aria-hidden="true" tabindex="-1"></a>   <span class="co">#if 2 nas in a row then do something</span></span>
<span id="cb57-194"><a href="#cb57-194" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span>(<span class="fu">is.na</span>(mutated_CurrentUSD<span class="sc">$</span><span class="st">`</span><span class="at">1949</span><span class="st">`</span>[i]) <span class="sc">&amp;&amp;</span> <span class="fu">is.na</span>(mutated_CurrentUSD<span class="sc">$</span><span class="st">`</span><span class="at">1949</span><span class="st">`</span>[i<span class="sc">+</span><span class="dv">1</span>]) ){</span>
<span id="cb57-195"><a href="#cb57-195" aria-hidden="true" tabindex="-1"></a>    mutated_CurrentUSD<span class="sc">$</span>Region[i<span class="sc">+</span><span class="dv">1</span>] <span class="ot">&lt;-</span> mutated_CurrentUSD<span class="sc">$</span>Country[i<span class="sc">+</span><span class="dv">1</span>] <span class="co">#this works because when referencing an index outside of the vector R will return NA - Great to know.</span></span>
<span id="cb57-196"><a href="#cb57-196" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb57-197"><a href="#cb57-197" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb57-198"><a href="#cb57-198" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb57-199"><a href="#cb57-199" aria-hidden="true" tabindex="-1"></a>  <span class="co">#if the row is a region</span></span>
<span id="cb57-200"><a href="#cb57-200" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span>(<span class="fu">is.na</span>(mutated_CurrentUSD<span class="sc">$</span><span class="st">`</span><span class="at">1949</span><span class="st">`</span>[i]) ){</span>
<span id="cb57-201"><a href="#cb57-201" aria-hidden="true" tabindex="-1"></a>     mutated_CurrentUSD<span class="sc">$</span>Region[i<span class="sc">+</span><span class="dv">1</span>] <span class="ot">&lt;-</span> mutated_CurrentUSD<span class="sc">$</span>Country[i]</span>
<span id="cb57-202"><a href="#cb57-202" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb57-203"><a href="#cb57-203" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-204"><a href="#cb57-204" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb57-205"><a href="#cb57-205" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb57-206"><a href="#cb57-206" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-207"><a href="#cb57-207" aria-hidden="true" tabindex="-1"></a>mutated_CurrentUSD <span class="ot">&lt;-</span> mutated_CurrentUSD <span class="sc">%&gt;%</span></span>
<span id="cb57-208"><a href="#cb57-208" aria-hidden="true" tabindex="-1"></a>  <span class="fu">fill</span>(Region)</span>
<span id="cb57-209"><a href="#cb57-209" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-210"><a href="#cb57-210" aria-hidden="true" tabindex="-1"></a><span class="co">#mutated_CurrentUSD </span></span>
<span id="cb57-211"><a href="#cb57-211" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb57-212"><a href="#cb57-212" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-213"><a href="#cb57-213" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-214"><a href="#cb57-214" aria-hidden="true" tabindex="-1"></a>Now that I had my proof of concept for cleaning one of the sheets, in a format I wanted, it was time to clean the other sheets as well. I could have taken the above algorithm and modified it to work for each of the other tabs individually however I took the opportunity to practice with functions and created the below function to clean any of the tabs once they were loaded in and lightly cleaned.</span>
<span id="cb57-215"><a href="#cb57-215" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-216"><a href="#cb57-216" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-217"><a href="#cb57-217" aria-hidden="true" tabindex="-1"></a><span class="fu"># Clean and format function</span></span>
<span id="cb57-218"><a href="#cb57-218" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-221"><a href="#cb57-221" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb57-222"><a href="#cb57-222" aria-hidden="true" tabindex="-1"></a><span class="do">## creating a function to clean the other sheets</span></span>
<span id="cb57-223"><a href="#cb57-223" aria-hidden="true" tabindex="-1"></a><span class="do">##Input: a partially cleaned tibble, must have been read in and had excess rows trimmed</span></span>
<span id="cb57-224"><a href="#cb57-224" aria-hidden="true" tabindex="-1"></a><span class="do">##output: tibble with regions correctly labeled and umbrella region categories i.e Africa above south Africa removed</span></span>
<span id="cb57-225"><a href="#cb57-225" aria-hidden="true" tabindex="-1"></a><span class="do">##Note: All sub categories contained the main category name in them, will use regex to create groupings in the future.</span></span>
<span id="cb57-226"><a href="#cb57-226" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-227"><a href="#cb57-227" aria-hidden="true" tabindex="-1"></a>CleanData <span class="ot">&lt;-</span> <span class="cf">function</span>(inSheet){</span>
<span id="cb57-228"><a href="#cb57-228" aria-hidden="true" tabindex="-1"></a>  emptyRegionCol <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(<span class="fu">vector</span>(<span class="at">mode =</span> <span class="st">"character"</span>,<span class="at">length =</span> <span class="fu">nrow</span>(<span class="fu">select</span>(inSheet,<span class="dv">2</span>))))</span>
<span id="cb57-229"><a href="#cb57-229" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-230"><a href="#cb57-230" aria-hidden="true" tabindex="-1"></a><span class="co">#adding col to tibble to be populated later</span></span>
<span id="cb57-231"><a href="#cb57-231" aria-hidden="true" tabindex="-1"></a>  output <span class="ot">&lt;-</span> inSheet <span class="sc">%&gt;%</span></span>
<span id="cb57-232"><a href="#cb57-232" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">Region =</span> emptyRegionCol,<span class="at">.before=</span><span class="dv">2</span>)</span>
<span id="cb57-233"><a href="#cb57-233" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-234"><a href="#cb57-234" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-235"><a href="#cb57-235" aria-hidden="true" tabindex="-1"></a><span class="co"># replacing the empty char in region with actual region if 2 NAs appear in a row</span></span>
<span id="cb57-236"><a href="#cb57-236" aria-hidden="true" tabindex="-1"></a> <span class="co">#iterates along the indices of the Country vector</span></span>
<span id="cb57-237"><a href="#cb57-237" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span>(i <span class="cf">in</span> <span class="fu">seq_along</span>(output<span class="sc">$</span>Country)){</span>
<span id="cb57-238"><a href="#cb57-238" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb57-239"><a href="#cb57-239" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span>(<span class="fu">is.na</span>(output[[i,<span class="dv">3</span>]]) <span class="sc">&amp;&amp;</span> <span class="fu">is.na</span>(output[[(i<span class="sc">+</span><span class="dv">1</span>),<span class="dv">3</span>]]))</span>
<span id="cb57-240"><a href="#cb57-240" aria-hidden="true" tabindex="-1"></a>      output<span class="sc">$</span>Region[i<span class="sc">+</span><span class="dv">1</span>] <span class="ot">&lt;-</span> output<span class="sc">$</span>Country[i<span class="sc">+</span><span class="dv">1</span>]</span>
<span id="cb57-241"><a href="#cb57-241" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb57-242"><a href="#cb57-242" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span>(<span class="fu">is.na</span>(output[[i,<span class="dv">3</span>]]))</span>
<span id="cb57-243"><a href="#cb57-243" aria-hidden="true" tabindex="-1"></a>       output<span class="sc">$</span>Region[i<span class="sc">+</span><span class="dv">1</span>] <span class="ot">&lt;-</span> output<span class="sc">$</span>Country[i]</span>
<span id="cb57-244"><a href="#cb57-244" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb57-245"><a href="#cb57-245" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb57-246"><a href="#cb57-246" aria-hidden="true" tabindex="-1"></a>  output <span class="ot">&lt;-</span> output <span class="sc">%&gt;%</span></span>
<span id="cb57-247"><a href="#cb57-247" aria-hidden="true" tabindex="-1"></a>    <span class="fu">fill</span>(Region)</span>
<span id="cb57-248"><a href="#cb57-248" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb57-249"><a href="#cb57-249" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb57-250"><a href="#cb57-250" aria-hidden="true" tabindex="-1"></a>  <span class="co"># removing header rows</span></span>
<span id="cb57-251"><a href="#cb57-251" aria-hidden="true" tabindex="-1"></a>  output <span class="ot">&lt;-</span> output <span class="sc">%&gt;%</span></span>
<span id="cb57-252"><a href="#cb57-252" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(output[[<span class="dv">3</span>]]))</span>
<span id="cb57-253"><a href="#cb57-253" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb57-254"><a href="#cb57-254" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-255"><a href="#cb57-255" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb57-256"><a href="#cb57-256" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-257"><a href="#cb57-257" aria-hidden="true" tabindex="-1"></a>Below I call the function on each of the tibbles loaded in earlier.</span>
<span id="cb57-258"><a href="#cb57-258" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-259"><a href="#cb57-259" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-262"><a href="#cb57-262" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb57-263"><a href="#cb57-263" aria-hidden="true" tabindex="-1"></a>Cleaned_currentUSD <span class="ot">&lt;-</span> <span class="fu">CleanData</span>(rawData_CurrentUSD)</span>
<span id="cb57-264"><a href="#cb57-264" aria-hidden="true" tabindex="-1"></a>Cleaned_ShareOfGovSpend <span class="ot">&lt;-</span> <span class="fu">CleanData</span>(rawData_ShareOfGovSpend)</span>
<span id="cb57-265"><a href="#cb57-265" aria-hidden="true" tabindex="-1"></a>Cleaned_ShareOfGDP <span class="ot">&lt;-</span> <span class="fu">CleanData</span>(rawData_ShareOfGDP)</span>
<span id="cb57-266"><a href="#cb57-266" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-267"><a href="#cb57-267" aria-hidden="true" tabindex="-1"></a><span class="co">#head(Cleaned_currentUSD)</span></span>
<span id="cb57-268"><a href="#cb57-268" aria-hidden="true" tabindex="-1"></a><span class="co">#head(Cleaned_ShareOfGovSpend)</span></span>
<span id="cb57-269"><a href="#cb57-269" aria-hidden="true" tabindex="-1"></a><span class="co">#head(Cleaned_ShareOfGDP)</span></span>
<span id="cb57-270"><a href="#cb57-270" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-271"><a href="#cb57-271" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb57-272"><a href="#cb57-272" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-273"><a href="#cb57-273" aria-hidden="true" tabindex="-1"></a><span class="fu">## Pivoting years and </span></span>
<span id="cb57-274"><a href="#cb57-274" aria-hidden="true" tabindex="-1"></a>Next I pivot the years, it should be noted that both the pivoting and Converting of notation could be handled by the clean function above, i kept the steps separate so that I could show the progression of the dataframe.</span>
<span id="cb57-275"><a href="#cb57-275" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-276"><a href="#cb57-276" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-277"><a href="#cb57-277" aria-hidden="true" tabindex="-1"></a>I must also handle the xxx and ... notations. From the information page of my data set I can see that the notation is described as follows:</span>
<span id="cb57-278"><a href="#cb57-278" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-279"><a href="#cb57-279" aria-hidden="true" tabindex="-1"></a>Raw Notation  | Meaning</span>
<span id="cb57-280"><a href="#cb57-280" aria-hidden="true" tabindex="-1"></a>------------- | -------------</span>
<span id="cb57-281"><a href="#cb57-281" aria-hidden="true" tabindex="-1"></a>...  | Data unavailable</span>
<span id="cb57-282"><a href="#cb57-282" aria-hidden="true" tabindex="-1"></a>xxx  |  Country did not exist or was not independent during all or part of the year in question</span>
<span id="cb57-283"><a href="#cb57-283" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-284"><a href="#cb57-284" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-285"><a href="#cb57-285" aria-hidden="true" tabindex="-1"></a>For now I think I will just keep both as NA but will save this form of the information for future use.</span>
<span id="cb57-286"><a href="#cb57-286" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-287"><a href="#cb57-287" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-290"><a href="#cb57-290" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb57-291"><a href="#cb57-291" aria-hidden="true" tabindex="-1"></a>Cleaned_currentUSD <span class="ot">&lt;-</span> Cleaned_currentUSD <span class="sc">%&gt;%</span></span>
<span id="cb57-292"><a href="#cb57-292" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="at">cols=</span><span class="dv">3</span><span class="sc">:</span><span class="fu">ncol</span>(Cleaned_currentUSD),<span class="at">names_to =</span> <span class="st">"Year"</span>,<span class="at">values_drop_na =</span> <span class="cn">FALSE</span>)<span class="sc">%&gt;%</span></span>
<span id="cb57-293"><a href="#cb57-293" aria-hidden="true" tabindex="-1"></a>    <span class="fu">na_if</span>(<span class="st">"..."</span>) <span class="sc">%&gt;%</span></span>
<span id="cb57-294"><a href="#cb57-294" aria-hidden="true" tabindex="-1"></a>      <span class="fu">na_if</span>(<span class="st">"xxx"</span>)</span>
<span id="cb57-295"><a href="#cb57-295" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb57-296"><a href="#cb57-296" aria-hidden="true" tabindex="-1"></a>Cleaned_ShareOfGovSpend <span class="ot">&lt;-</span> Cleaned_ShareOfGovSpend <span class="sc">%&gt;%</span></span>
<span id="cb57-297"><a href="#cb57-297" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="at">cols=</span><span class="dv">3</span><span class="sc">:</span><span class="fu">ncol</span>(Cleaned_ShareOfGovSpend),<span class="at">names_to =</span> <span class="st">"Year"</span>,<span class="at">values_drop_na =</span> <span class="cn">FALSE</span>)<span class="sc">%&gt;%</span></span>
<span id="cb57-298"><a href="#cb57-298" aria-hidden="true" tabindex="-1"></a>    <span class="fu">na_if</span>(<span class="st">"..."</span>) <span class="sc">%&gt;%</span></span>
<span id="cb57-299"><a href="#cb57-299" aria-hidden="true" tabindex="-1"></a>      <span class="fu">na_if</span>(<span class="st">"xxx"</span>)</span>
<span id="cb57-300"><a href="#cb57-300" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-301"><a href="#cb57-301" aria-hidden="true" tabindex="-1"></a>Cleaned_ShareOfGDP <span class="ot">&lt;-</span> Cleaned_ShareOfGDP <span class="sc">%&gt;%</span></span>
<span id="cb57-302"><a href="#cb57-302" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="at">cols=</span><span class="dv">3</span><span class="sc">:</span><span class="fu">ncol</span>(Cleaned_ShareOfGDP),<span class="at">names_to =</span> <span class="st">"Year"</span>,<span class="at">values_drop_na =</span> <span class="cn">FALSE</span>)<span class="sc">%&gt;%</span></span>
<span id="cb57-303"><a href="#cb57-303" aria-hidden="true" tabindex="-1"></a>    <span class="fu">na_if</span>(<span class="st">"..."</span>) <span class="sc">%&gt;%</span></span>
<span id="cb57-304"><a href="#cb57-304" aria-hidden="true" tabindex="-1"></a>      <span class="fu">na_if</span>(<span class="st">"xxx"</span>)</span>
<span id="cb57-305"><a href="#cb57-305" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-306"><a href="#cb57-306" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-307"><a href="#cb57-307" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-308"><a href="#cb57-308" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb57-309"><a href="#cb57-309" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-310"><a href="#cb57-310" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-311"><a href="#cb57-311" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-312"><a href="#cb57-312" aria-hidden="true" tabindex="-1"></a><span class="fu">### Converting column types</span></span>
<span id="cb57-313"><a href="#cb57-313" aria-hidden="true" tabindex="-1"></a>Finally I will convert the column types to their correct representation.</span>
<span id="cb57-314"><a href="#cb57-314" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-315"><a href="#cb57-315" aria-hidden="true" tabindex="-1"></a>Before:</span>
<span id="cb57-318"><a href="#cb57-318" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb57-319"><a href="#cb57-319" aria-hidden="true" tabindex="-1"></a><span class="co">#head(Cleaned_currentUSD)</span></span>
<span id="cb57-320"><a href="#cb57-320" aria-hidden="true" tabindex="-1"></a><span class="co">#head(Cleaned_ShareOfGovSpend)</span></span>
<span id="cb57-321"><a href="#cb57-321" aria-hidden="true" tabindex="-1"></a><span class="co">#head(Cleaned_ShareOfGDP)</span></span>
<span id="cb57-322"><a href="#cb57-322" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-323"><a href="#cb57-323" aria-hidden="true" tabindex="-1"></a><span class="co"># Year to date</span></span>
<span id="cb57-324"><a href="#cb57-324" aria-hidden="true" tabindex="-1"></a><span class="co">#Cleaned_currentUSD$Year&lt;-as_date(Cleaned_currentUSD$Year, format = "%Y",tz=NULL)</span></span>
<span id="cb57-325"><a href="#cb57-325" aria-hidden="true" tabindex="-1"></a><span class="co">#Cleaned_ShareOfGovSpend$Year&lt;-as_date(Cleaned_ShareOfGovSpend$Year, format = "%Y",tz=NULL)</span></span>
<span id="cb57-326"><a href="#cb57-326" aria-hidden="true" tabindex="-1"></a><span class="co">#Cleaned_ShareOfGDP$Year&lt;-as_date(Cleaned_ShareOfGDP$Year, format = "%Y",tz=NULL)</span></span>
<span id="cb57-327"><a href="#cb57-327" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-328"><a href="#cb57-328" aria-hidden="true" tabindex="-1"></a><span class="co">#Year to Number</span></span>
<span id="cb57-329"><a href="#cb57-329" aria-hidden="true" tabindex="-1"></a>Cleaned_currentUSD<span class="sc">$</span>Year<span class="ot">&lt;-</span><span class="fu">as.integer</span>(Cleaned_currentUSD<span class="sc">$</span>Year)</span>
<span id="cb57-330"><a href="#cb57-330" aria-hidden="true" tabindex="-1"></a>Cleaned_ShareOfGovSpend<span class="sc">$</span>Year<span class="ot">&lt;-</span><span class="fu">as.integer</span>(Cleaned_ShareOfGovSpend<span class="sc">$</span>Year)</span>
<span id="cb57-331"><a href="#cb57-331" aria-hidden="true" tabindex="-1"></a>Cleaned_ShareOfGDP<span class="sc">$</span>Year<span class="ot">&lt;-</span><span class="fu">as.integer</span>(Cleaned_ShareOfGDP<span class="sc">$</span>Year)</span>
<span id="cb57-332"><a href="#cb57-332" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-333"><a href="#cb57-333" aria-hidden="true" tabindex="-1"></a><span class="co">#Cleaned_currentUSD</span></span>
<span id="cb57-334"><a href="#cb57-334" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-335"><a href="#cb57-335" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-336"><a href="#cb57-336" aria-hidden="true" tabindex="-1"></a><span class="co"># value to double</span></span>
<span id="cb57-337"><a href="#cb57-337" aria-hidden="true" tabindex="-1"></a>Cleaned_currentUSD<span class="sc">$</span>value <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(Cleaned_currentUSD<span class="sc">$</span>value)</span>
<span id="cb57-338"><a href="#cb57-338" aria-hidden="true" tabindex="-1"></a>Cleaned_ShareOfGovSpend<span class="sc">$</span>value<span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(Cleaned_ShareOfGovSpend<span class="sc">$</span>value)</span>
<span id="cb57-339"><a href="#cb57-339" aria-hidden="true" tabindex="-1"></a>Cleaned_ShareOfGDP<span class="sc">$</span>value<span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(Cleaned_ShareOfGDP<span class="sc">$</span>value)</span>
<span id="cb57-340"><a href="#cb57-340" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb57-341"><a href="#cb57-341" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-342"><a href="#cb57-342" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-343"><a href="#cb57-343" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-344"><a href="#cb57-344" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-347"><a href="#cb57-347" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb57-348"><a href="#cb57-348" aria-hidden="true" tabindex="-1"></a><span class="co">#view(Cleaned_ShareOfGovSpend)=</span></span>
<span id="cb57-349"><a href="#cb57-349" aria-hidden="true" tabindex="-1"></a>Cleaned_currentUSD <span class="ot">&lt;-</span> Cleaned_currentUSD <span class="sc">%&gt;%</span></span>
<span id="cb57-350"><a href="#cb57-350" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">MilitarySpend_currentUSD=</span>value)</span>
<span id="cb57-351"><a href="#cb57-351" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-352"><a href="#cb57-352" aria-hidden="true" tabindex="-1"></a>Cleaned_ShareOfGovSpend <span class="ot">&lt;-</span> Cleaned_ShareOfGovSpend<span class="sc">%&gt;%</span></span>
<span id="cb57-353"><a href="#cb57-353" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">MilitarySpend_ShareofGovSpend=</span>value)</span>
<span id="cb57-354"><a href="#cb57-354" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-355"><a href="#cb57-355" aria-hidden="true" tabindex="-1"></a>Cleaned_ShareOfGDP <span class="ot">&lt;-</span> Cleaned_ShareOfGDP<span class="sc">%&gt;%</span></span>
<span id="cb57-356"><a href="#cb57-356" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">MilitarySpend_ShareofGDP=</span>value)</span>
<span id="cb57-357"><a href="#cb57-357" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-358"><a href="#cb57-358" aria-hidden="true" tabindex="-1"></a><span class="co">#head(Cleaned_currentUSD)</span></span>
<span id="cb57-359"><a href="#cb57-359" aria-hidden="true" tabindex="-1"></a><span class="co">#head(Cleaned_ShareOfGovSpend)</span></span>
<span id="cb57-360"><a href="#cb57-360" aria-hidden="true" tabindex="-1"></a><span class="co">#head(Cleaned_ShareOfGDP)</span></span>
<span id="cb57-361"><a href="#cb57-361" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-362"><a href="#cb57-362" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb57-363"><a href="#cb57-363" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-364"><a href="#cb57-364" aria-hidden="true" tabindex="-1"></a><span class="fu">## join of the different tabs</span></span>
<span id="cb57-365"><a href="#cb57-365" aria-hidden="true" tabindex="-1"></a>I think we will want to do a full join as we dont want to lose any information.</span>
<span id="cb57-368"><a href="#cb57-368" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb57-369"><a href="#cb57-369" aria-hidden="true" tabindex="-1"></a><span class="co">#nrow(Cleaned_currentUSD)</span></span>
<span id="cb57-370"><a href="#cb57-370" aria-hidden="true" tabindex="-1"></a><span class="co">#nrow(Cleaned_ShareOfGovSpend)</span></span>
<span id="cb57-371"><a href="#cb57-371" aria-hidden="true" tabindex="-1"></a><span class="co">#nrow(Cleaned_ShareOfGDP)</span></span>
<span id="cb57-372"><a href="#cb57-372" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-373"><a href="#cb57-373" aria-hidden="true" tabindex="-1"></a>MilitarySpend<span class="ot">&lt;-</span> <span class="fu">full_join</span>(Cleaned_currentUSD,Cleaned_ShareOfGovSpend,<span class="at">by=</span><span class="fu">c</span>(<span class="st">"Country"</span>,<span class="st">"Year"</span>,<span class="st">"Region"</span>))</span>
<span id="cb57-374"><a href="#cb57-374" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-375"><a href="#cb57-375" aria-hidden="true" tabindex="-1"></a>MilitarySpend <span class="ot">&lt;-</span> <span class="fu">full_join</span>(MilitarySpend,Cleaned_ShareOfGDP,<span class="at">by=</span><span class="fu">c</span>(<span class="st">"Country"</span>,<span class="st">"Year"</span>,<span class="st">"Region"</span>))</span>
<span id="cb57-376"><a href="#cb57-376" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-377"><a href="#cb57-377" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-378"><a href="#cb57-378" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-379"><a href="#cb57-379" aria-hidden="true" tabindex="-1"></a><span class="co">#head(MilitarySpend)</span></span>
<span id="cb57-380"><a href="#cb57-380" aria-hidden="true" tabindex="-1"></a><span class="co">#nrow(MilitarySpend)</span></span>
<span id="cb57-381"><a href="#cb57-381" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb57-382"><a href="#cb57-382" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-383"><a href="#cb57-383" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-384"><a href="#cb57-384" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-385"><a href="#cb57-385" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-386"><a href="#cb57-386" aria-hidden="true" tabindex="-1"></a><span class="fu">## HW3</span></span>
<span id="cb57-387"><a href="#cb57-387" aria-hidden="true" tabindex="-1"></a><span class="fu">### descriptive stats</span></span>
<span id="cb57-388"><a href="#cb57-388" aria-hidden="true" tabindex="-1"></a>mean median and std for each of the tabs</span>
<span id="cb57-389"><a href="#cb57-389" aria-hidden="true" tabindex="-1"></a>Charts for the stats</span>
<span id="cb57-390"><a href="#cb57-390" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-391"><a href="#cb57-391" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-392"><a href="#cb57-392" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-393"><a href="#cb57-393" aria-hidden="true" tabindex="-1"></a>First I wanted to get an idea of what my data looks like for each of the countries individually. In order to see this I grouped on country name and the types of data we have.</span>
<span id="cb57-394"><a href="#cb57-394" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-395"><a href="#cb57-395" aria-hidden="true" tabindex="-1"></a>In order to get that done I need to pivot my data again.</span>
<span id="cb57-398"><a href="#cb57-398" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb57-399"><a href="#cb57-399" aria-hidden="true" tabindex="-1"></a>combinedData <span class="ot">&lt;-</span>MilitarySpend <span class="sc">%&gt;%</span></span>
<span id="cb57-400"><a href="#cb57-400" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="fu">c</span>(MilitarySpend_currentUSD,MilitarySpend_ShareofGovSpend,MilitarySpend_ShareofGDP),<span class="at">names_to =</span> <span class="st">"viewOfSpend"</span>,<span class="at">values_to =</span> <span class="st">"Spend"</span>)</span>
<span id="cb57-401"><a href="#cb57-401" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(combinedData)</span>
<span id="cb57-402"><a href="#cb57-402" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-403"><a href="#cb57-403" aria-hidden="true" tabindex="-1"></a><span class="co">#view(combinedData)</span></span>
<span id="cb57-404"><a href="#cb57-404" aria-hidden="true" tabindex="-1"></a><span class="fu">na.omit</span>(combinedData)</span>
<span id="cb57-405"><a href="#cb57-405" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-406"><a href="#cb57-406" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb57-407"><a href="#cb57-407" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-408"><a href="#cb57-408" aria-hidden="true" tabindex="-1"></a>Below is a graph depicting the completeness of the information available to us.</span>
<span id="cb57-409"><a href="#cb57-409" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-410"><a href="#cb57-410" aria-hidden="true" tabindex="-1"></a>Total number of countries analyzed:</span>
<span id="cb57-413"><a href="#cb57-413" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb57-414"><a href="#cb57-414" aria-hidden="true" tabindex="-1"></a>combinedData<span class="sc">%&gt;%</span></span>
<span id="cb57-415"><a href="#cb57-415" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(Country)<span class="sc">%&gt;%</span></span>
<span id="cb57-416"><a href="#cb57-416" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>()</span>
<span id="cb57-417"><a href="#cb57-417" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb57-418"><a href="#cb57-418" aria-hidden="true" tabindex="-1"></a>Number of countries by region:</span>
<span id="cb57-421"><a href="#cb57-421" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb57-422"><a href="#cb57-422" aria-hidden="true" tabindex="-1"></a>combinedData<span class="sc">%&gt;%</span></span>
<span id="cb57-423"><a href="#cb57-423" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Region)<span class="sc">%&gt;%</span></span>
<span id="cb57-424"><a href="#cb57-424" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">numberCountries =</span> <span class="fu">n_distinct</span>(Country))<span class="sc">%&gt;%</span></span>
<span id="cb57-425"><a href="#cb57-425" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(numberCountries))</span>
<span id="cb57-426"><a href="#cb57-426" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-427"><a href="#cb57-427" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb57-428"><a href="#cb57-428" aria-hidden="true" tabindex="-1"></a>Due to the number of Regions I may need to focus on some in particular...</span>
<span id="cb57-429"><a href="#cb57-429" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-430"><a href="#cb57-430" aria-hidden="true" tabindex="-1"></a>by year, how many countries had data available</span>
<span id="cb57-433"><a href="#cb57-433" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb57-434"><a href="#cb57-434" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb57-435"><a href="#cb57-435" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-436"><a href="#cb57-436" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-437"><a href="#cb57-437" aria-hidden="true" tabindex="-1"></a>Statistics by region</span>
<span id="cb57-438"><a href="#cb57-438" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-439"><a href="#cb57-439" aria-hidden="true" tabindex="-1"></a>#MilitarySpend_currentUSD</span>
<span id="cb57-442"><a href="#cb57-442" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb57-443"><a href="#cb57-443" aria-hidden="true" tabindex="-1"></a>byRegionStats_USD<span class="ot">&lt;-</span>combinedData<span class="sc">%&gt;%</span></span>
<span id="cb57-444"><a href="#cb57-444" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Region,viewOfSpend)<span class="sc">%&gt;%</span></span>
<span id="cb57-445"><a href="#cb57-445" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">mean =</span> <span class="fu">mean</span>(Spend, <span class="at">na.rm=</span><span class="cn">TRUE</span>,<span class="at">sigfig=</span><span class="dv">1</span>),</span>
<span id="cb57-446"><a href="#cb57-446" aria-hidden="true" tabindex="-1"></a>            <span class="at">std =</span> <span class="fu">sd</span>(Spend, <span class="at">na.rm=</span><span class="cn">TRUE</span>),</span>
<span id="cb57-447"><a href="#cb57-447" aria-hidden="true" tabindex="-1"></a>            <span class="at">min =</span> <span class="fu">min</span>(Spend, <span class="at">na.rm=</span><span class="cn">TRUE</span>),</span>
<span id="cb57-448"><a href="#cb57-448" aria-hidden="true" tabindex="-1"></a>            <span class="at">max =</span> <span class="fu">max</span>(Spend, <span class="at">na.rm=</span><span class="cn">TRUE</span>))<span class="sc">%&gt;%</span></span>
<span id="cb57-449"><a href="#cb57-449" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(mean))<span class="sc">%&gt;%</span></span>
<span id="cb57-450"><a href="#cb57-450" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(viewOfSpend<span class="sc">==</span><span class="st">"MilitarySpend_currentUSD"</span>)</span>
<span id="cb57-451"><a href="#cb57-451" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-452"><a href="#cb57-452" aria-hidden="true" tabindex="-1"></a>byRegionStats_USD</span>
<span id="cb57-453"><a href="#cb57-453" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-454"><a href="#cb57-454" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb57-455"><a href="#cb57-455" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-456"><a href="#cb57-456" aria-hidden="true" tabindex="-1"></a>#MilitarySpend_ShareOfGDP</span>
<span id="cb57-459"><a href="#cb57-459" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb57-460"><a href="#cb57-460" aria-hidden="true" tabindex="-1"></a>byRegionStats_GDP<span class="ot">&lt;-</span>combinedData<span class="sc">%&gt;%</span></span>
<span id="cb57-461"><a href="#cb57-461" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Region,viewOfSpend,Year)<span class="sc">%&gt;%</span></span>
<span id="cb57-462"><a href="#cb57-462" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">mean =</span> <span class="fu">mean</span>(Spend, <span class="at">na.rm=</span><span class="cn">TRUE</span>,<span class="at">sigfig=</span><span class="dv">1</span>),</span>
<span id="cb57-463"><a href="#cb57-463" aria-hidden="true" tabindex="-1"></a>            <span class="at">std =</span> <span class="fu">sd</span>(Spend, <span class="at">na.rm=</span><span class="cn">TRUE</span>),</span>
<span id="cb57-464"><a href="#cb57-464" aria-hidden="true" tabindex="-1"></a>            <span class="at">min =</span> <span class="fu">min</span>(Spend, <span class="at">na.rm=</span><span class="cn">TRUE</span>),</span>
<span id="cb57-465"><a href="#cb57-465" aria-hidden="true" tabindex="-1"></a>            <span class="at">max =</span> <span class="fu">max</span>(Spend, <span class="at">na.rm=</span><span class="cn">TRUE</span>))<span class="sc">%&gt;%</span></span>
<span id="cb57-466"><a href="#cb57-466" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(mean))<span class="sc">%&gt;%</span></span>
<span id="cb57-467"><a href="#cb57-467" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(viewOfSpend<span class="sc">==</span><span class="st">"MilitarySpend_ShareofGDP"</span>)</span>
<span id="cb57-468"><a href="#cb57-468" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-469"><a href="#cb57-469" aria-hidden="true" tabindex="-1"></a>byRegionStats_GDP</span>
<span id="cb57-470"><a href="#cb57-470" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-471"><a href="#cb57-471" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb57-474"><a href="#cb57-474" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb57-475"><a href="#cb57-475" aria-hidden="true" tabindex="-1"></a>byRegionStats_GDP</span>
<span id="cb57-476"><a href="#cb57-476" aria-hidden="true" tabindex="-1"></a>byRegionStats_GDP<span class="ot">&lt;-</span>combinedData<span class="sc">%&gt;%</span></span>
<span id="cb57-477"><a href="#cb57-477" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Region,viewOfSpend,Year)<span class="sc">%&gt;%</span></span>
<span id="cb57-478"><a href="#cb57-478" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(viewOfSpend<span class="sc">==</span><span class="st">"MilitarySpend_ShareofGDP"</span>)</span>
<span id="cb57-479"><a href="#cb57-479" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-480"><a href="#cb57-480" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-481"><a href="#cb57-481" aria-hidden="true" tabindex="-1"></a>byRegionStats_GDP<span class="sc">$</span>Region<span class="ot">&lt;-</span><span class="fu">as.factor</span>(byRegionStats_GDP<span class="sc">$</span>Region)</span>
<span id="cb57-482"><a href="#cb57-482" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-483"><a href="#cb57-483" aria-hidden="true" tabindex="-1"></a>violin_gdp<span class="ot">&lt;-</span> <span class="fu">na.omit</span>(byRegionStats_GDP)<span class="sc">%&gt;%</span></span>
<span id="cb57-484"><a href="#cb57-484" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>Region,<span class="at">y=</span>Spend))<span class="sc">+</span></span>
<span id="cb57-485"><a href="#cb57-485" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_violin</span>()</span>
<span id="cb57-486"><a href="#cb57-486" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-487"><a href="#cb57-487" aria-hidden="true" tabindex="-1"></a>violin_gdp</span>
<span id="cb57-488"><a href="#cb57-488" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-489"><a href="#cb57-489" aria-hidden="true" tabindex="-1"></a><span class="co"># removing NAs here because I cant plot them, I dont want to replace them with other values because it is still of interest when countries do not display thier data.</span></span>
<span id="cb57-490"><a href="#cb57-490" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-491"><a href="#cb57-491" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-492"><a href="#cb57-492" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-493"><a href="#cb57-493" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb57-494"><a href="#cb57-494" aria-hidden="true" tabindex="-1"></a>Something crazy going on with the middle east spend...</span>
<span id="cb57-495"><a href="#cb57-495" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-496"><a href="#cb57-496" aria-hidden="true" tabindex="-1"></a>Investigation:</span>
<span id="cb57-497"><a href="#cb57-497" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-500"><a href="#cb57-500" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb57-501"><a href="#cb57-501" aria-hidden="true" tabindex="-1"></a>byRegionStats_GDP<span class="sc">%&gt;%</span></span>
<span id="cb57-502"><a href="#cb57-502" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Region<span class="sc">==</span><span class="st">"Middle East"</span>)<span class="sc">%&gt;%</span></span>
<span id="cb57-503"><a href="#cb57-503" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(Spend))<span class="sc">%&gt;%</span></span>
<span id="cb57-504"><a href="#cb57-504" aria-hidden="true" tabindex="-1"></a>  <span class="fu">head</span>()</span>
<span id="cb57-505"><a href="#cb57-505" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-506"><a href="#cb57-506" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb57-507"><a href="#cb57-507" aria-hidden="true" tabindex="-1"></a>I initially thought this was a typo since there were two 1s in a row and it was such an insanely high spend. A share of GDP of 1.173 means Kuwait spent 117.3% of their GDP in that year. Upon further investigation, this is actually true and it was driven by the Persian Gulf War(aka Gulf War). The Gulf War was a conflict triggered by Iraqs invasion of Kuwait in 1990. This invasion was the first major international crisis since the Cold War and will certainly be a topic I add to the final analysis.</span>
<span id="cb57-508"><a href="#cb57-508" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-509"><a href="#cb57-509" aria-hidden="true" tabindex="-1"></a>https://www.britannica.com/event/Persian-Gulf-War</span>
<span id="cb57-510"><a href="#cb57-510" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-511"><a href="#cb57-511" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-512"><a href="#cb57-512" aria-hidden="true" tabindex="-1"></a>Loosely I will plot Iraq, US and Kuwait spend from 1985-1995 to explore this time period.</span>
<span id="cb57-515"><a href="#cb57-515" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb57-516"><a href="#cb57-516" aria-hidden="true" tabindex="-1"></a>combinedData<span class="sc">%&gt;%</span></span>
<span id="cb57-517"><a href="#cb57-517" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Year <span class="sc">&gt;=</span> <span class="dv">1985</span> <span class="sc">&amp;</span> Year<span class="sc">&lt;=</span> <span class="dv">1995</span>)<span class="sc">%&gt;%</span></span>
<span id="cb57-518"><a href="#cb57-518" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Country <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"United States of America"</span>,<span class="st">"Iraq"</span>,<span class="st">"Kuwait"</span>))<span class="sc">%&gt;%</span></span>
<span id="cb57-519"><a href="#cb57-519" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggplot</span>(<span class="at">mapping=</span><span class="fu">aes</span>(<span class="at">y =</span> Spend, <span class="at">x =</span> Year))<span class="sc">+</span>  </span>
<span id="cb57-520"><a href="#cb57-520" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">color =</span> Country, <span class="at">alpha=</span><span class="fl">0.9</span>),<span class="at">na.rm =</span> <span class="cn">FALSE</span>)<span class="sc">+</span></span>
<span id="cb57-521"><a href="#cb57-521" aria-hidden="true" tabindex="-1"></a>    <span class="fu">facet_wrap</span>(<span class="fu">vars</span>(<span class="st">`</span><span class="at">viewOfSpend</span><span class="st">`</span>),<span class="at">scales =</span> <span class="st">"free_y"</span>)</span>
<span id="cb57-522"><a href="#cb57-522" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-523"><a href="#cb57-523" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-524"><a href="#cb57-524" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb57-525"><a href="#cb57-525" aria-hidden="true" tabindex="-1"></a>A new discovery! Iraq chose not to report their spending during the Gulf war.</span>
<span id="cb57-526"><a href="#cb57-526" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-529"><a href="#cb57-529" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb57-530"><a href="#cb57-530" aria-hidden="true" tabindex="-1"></a>combinedData<span class="sc">%&gt;%</span></span>
<span id="cb57-531"><a href="#cb57-531" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Country <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"Iraq"</span>))<span class="sc">%&gt;%</span></span>
<span id="cb57-532"><a href="#cb57-532" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Year<span class="sc">&gt;</span><span class="dv">1960</span><span class="sc">&amp;</span><span class="fu">is.na</span>(Spend))</span>
<span id="cb57-533"><a href="#cb57-533" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-534"><a href="#cb57-534" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-535"><a href="#cb57-535" aria-hidden="true" tabindex="-1"></a>startOfNoData<span class="ot">&lt;-</span> <span class="dv">1982</span></span>
<span id="cb57-536"><a href="#cb57-536" aria-hidden="true" tabindex="-1"></a>endofNoData<span class="ot">&lt;-</span> <span class="dv">2003</span></span>
<span id="cb57-537"><a href="#cb57-537" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-538"><a href="#cb57-538" aria-hidden="true" tabindex="-1"></a>iraqMissingDataPLOT<span class="ot">&lt;-</span>combinedData<span class="sc">%&gt;%</span></span>
<span id="cb57-539"><a href="#cb57-539" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Country <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"Iraq"</span>))<span class="sc">%&gt;%</span></span>
<span id="cb57-540"><a href="#cb57-540" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggplot</span>(<span class="at">mapping=</span><span class="fu">aes</span>( <span class="at">x =</span> Spend,<span class="at">y =</span> Year))<span class="sc">+</span></span>
<span id="cb57-541"><a href="#cb57-541" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>()<span class="sc">+</span></span>
<span id="cb57-542"><a href="#cb57-542" aria-hidden="true" tabindex="-1"></a>    <span class="fu">facet_wrap</span>(<span class="fu">vars</span>(<span class="st">`</span><span class="at">viewOfSpend</span><span class="st">`</span>),<span class="at">scales =</span> <span class="st">"free_x"</span>)<span class="sc">+</span></span>
<span id="cb57-543"><a href="#cb57-543" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_y_continuous</span>(<span class="at">labels=</span><span class="fu">seq</span>(<span class="dv">1949</span>,<span class="dv">2020</span>,<span class="dv">5</span>),<span class="at">breaks =</span><span class="fu">seq</span>(<span class="dv">1949</span>,<span class="dv">2020</span>,<span class="dv">5</span>))</span>
<span id="cb57-544"><a href="#cb57-544" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-545"><a href="#cb57-545" aria-hidden="true" tabindex="-1"></a>iraqMissingDataPLOT<span class="sc">+</span></span>
<span id="cb57-546"><a href="#cb57-546" aria-hidden="true" tabindex="-1"></a><span class="fu">geom_hline</span>(<span class="at">yintercept =</span> <span class="dv">1982</span>,<span class="at">color=</span><span class="st">"red"</span>)<span class="sc">+</span></span>
<span id="cb57-547"><a href="#cb57-547" aria-hidden="true" tabindex="-1"></a><span class="fu">geom_hline</span>(<span class="at">yintercept =</span> <span class="dv">2003</span>,<span class="at">color=</span><span class="st">"red"</span>)<span class="sc">+</span></span>
<span id="cb57-548"><a href="#cb57-548" aria-hidden="true" tabindex="-1"></a><span class="fu">annotate</span>(<span class="st">"text"</span>,<span class="at">x=</span><span class="dv">0</span>,<span class="at">y=</span><span class="dv">1982</span>,<span class="at">label=</span><span class="st">"1982"</span>,<span class="at">hjust=</span><span class="sc">-</span><span class="fl">0.1</span>,<span class="at">vjust=</span><span class="sc">-</span><span class="fl">0.1</span>,<span class="at">color=</span><span class="st">"red"</span>)<span class="sc">+</span></span>
<span id="cb57-549"><a href="#cb57-549" aria-hidden="true" tabindex="-1"></a><span class="fu">annotate</span>(<span class="st">"text"</span>,<span class="at">x=</span><span class="dv">0</span>,<span class="at">y=</span><span class="dv">2003</span>,<span class="at">label=</span><span class="st">"2003"</span>,<span class="at">hjust=</span><span class="sc">-</span><span class="fl">0.1</span>,<span class="at">vjust=</span><span class="fl">1.1</span>,<span class="at">color=</span><span class="st">"red"</span>)</span>
<span id="cb57-550"><a href="#cb57-550" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-551"><a href="#cb57-551" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb57-552"><a href="#cb57-552" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-553"><a href="#cb57-553" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-554"><a href="#cb57-554" aria-hidden="true" tabindex="-1"></a>Below I continue to explore the dataset. This might be too much for HW3 however I was doing it anyway for the final so I chose to include it.</span>
<span id="cb57-555"><a href="#cb57-555" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-556"><a href="#cb57-556" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-557"><a href="#cb57-557" aria-hidden="true" tabindex="-1"></a>#MilitarySpend_ShareofGovSpend</span>
<span id="cb57-558"><a href="#cb57-558" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-559"><a href="#cb57-559" aria-hidden="true" tabindex="-1"></a>Now to explore the statistics within the Share of Gov Spend tab.</span>
<span id="cb57-562"><a href="#cb57-562" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb57-563"><a href="#cb57-563" aria-hidden="true" tabindex="-1"></a>byRegionStats_GovSpend<span class="ot">&lt;-</span>combinedData<span class="sc">%&gt;%</span></span>
<span id="cb57-564"><a href="#cb57-564" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Region,viewOfSpend)<span class="sc">%&gt;%</span></span>
<span id="cb57-565"><a href="#cb57-565" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">mean =</span> <span class="fu">mean</span>(Spend, <span class="at">na.rm=</span><span class="cn">TRUE</span>,<span class="at">sigfig=</span><span class="dv">1</span>),</span>
<span id="cb57-566"><a href="#cb57-566" aria-hidden="true" tabindex="-1"></a>            <span class="at">std =</span> <span class="fu">sd</span>(Spend, <span class="at">na.rm=</span><span class="cn">TRUE</span>),</span>
<span id="cb57-567"><a href="#cb57-567" aria-hidden="true" tabindex="-1"></a>            <span class="at">min =</span> <span class="fu">min</span>(Spend, <span class="at">na.rm=</span><span class="cn">TRUE</span>),</span>
<span id="cb57-568"><a href="#cb57-568" aria-hidden="true" tabindex="-1"></a>            <span class="at">max =</span> <span class="fu">max</span>(Spend, <span class="at">na.rm=</span><span class="cn">TRUE</span>))<span class="sc">%&gt;%</span></span>
<span id="cb57-569"><a href="#cb57-569" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(mean))<span class="sc">%&gt;%</span></span>
<span id="cb57-570"><a href="#cb57-570" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(viewOfSpend<span class="sc">==</span><span class="st">"MilitarySpend_ShareofGovSpend"</span>)</span>
<span id="cb57-571"><a href="#cb57-571" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-572"><a href="#cb57-572" aria-hidden="true" tabindex="-1"></a>byRegionStats_GovSpend</span>
<span id="cb57-573"><a href="#cb57-573" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-574"><a href="#cb57-574" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb57-575"><a href="#cb57-575" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-576"><a href="#cb57-576" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-577"><a href="#cb57-577" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-578"><a href="#cb57-578" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-579"><a href="#cb57-579" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-582"><a href="#cb57-582" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb57-583"><a href="#cb57-583" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(forcats)</span>
<span id="cb57-584"><a href="#cb57-584" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-585"><a href="#cb57-585" aria-hidden="true" tabindex="-1"></a>statsViz2<span class="ot">&lt;-</span> byRegionStats<span class="sc">%&gt;%</span></span>
<span id="cb57-586"><a href="#cb57-586" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">test =</span> <span class="fu">fct_reorder</span>(Region,<span class="fu">desc</span>(mean)))<span class="sc">%&gt;%</span></span>
<span id="cb57-587"><a href="#cb57-587" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="at">mapping=</span><span class="fu">aes</span>(<span class="at">y =</span> test, <span class="at">x =</span> mean))<span class="sc">+</span>  </span>
<span id="cb57-588"><a href="#cb57-588" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">color =</span> Region, <span class="at">alpha=</span><span class="fl">0.9</span>, <span class="at">size=</span>max)) <span class="sc">+</span></span>
<span id="cb57-589"><a href="#cb57-589" aria-hidden="true" tabindex="-1"></a>  <span class="fu">guides</span>(<span class="at">alpha=</span><span class="st">"none"</span>,<span class="at">color=</span><span class="st">"none"</span>) <span class="sc">+</span></span>
<span id="cb57-590"><a href="#cb57-590" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Certain Regions on average spend more than others"</span> ,<span class="at">caption =</span> <span class="st">"Data from SPIRI Military Expediture Database"</span>)</span>
<span id="cb57-591"><a href="#cb57-591" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-592"><a href="#cb57-592" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-593"><a href="#cb57-593" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-594"><a href="#cb57-594" aria-hidden="true" tabindex="-1"></a>statsViz2</span>
<span id="cb57-595"><a href="#cb57-595" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-596"><a href="#cb57-596" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb57-597"><a href="#cb57-597" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-598"><a href="#cb57-598" aria-hidden="true" tabindex="-1"></a>From this we can see the top 6 spenders reside in a cluster of there own when you look at their mean and max spend.</span>
<span id="cb57-599"><a href="#cb57-599" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-600"><a href="#cb57-600" aria-hidden="true" tabindex="-1"></a>Top 6</span>
<span id="cb57-603"><a href="#cb57-603" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb57-604"><a href="#cb57-604" aria-hidden="true" tabindex="-1"></a>top6_mean <span class="ot">&lt;-</span> byRegionStats <span class="sc">%&gt;%</span></span>
<span id="cb57-605"><a href="#cb57-605" aria-hidden="true" tabindex="-1"></a>  <span class="fu">head</span>()<span class="sc">%&gt;%</span></span>
<span id="cb57-606"><a href="#cb57-606" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pull</span>(Region)</span>
<span id="cb57-607"><a href="#cb57-607" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-608"><a href="#cb57-608" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-609"><a href="#cb57-609" aria-hidden="true" tabindex="-1"></a>top6_mean</span>
<span id="cb57-610"><a href="#cb57-610" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb57-611"><a href="#cb57-611" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-612"><a href="#cb57-612" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-613"><a href="#cb57-613" aria-hidden="true" tabindex="-1"></a><span class="fu">## Faceted by Region, show mean spend of each country</span></span>
<span id="cb57-614"><a href="#cb57-614" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-615"><a href="#cb57-615" aria-hidden="true" tabindex="-1"></a><span class="in">```{r , 123}</span></span>
<span id="cb57-616"><a href="#cb57-616" aria-hidden="true" tabindex="-1"></a>byRegionStats_year<span class="ot">&lt;-</span>combinedData<span class="sc">%&gt;%</span></span>
<span id="cb57-617"><a href="#cb57-617" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Region,viewOfSpend,Year)<span class="sc">%&gt;%</span></span>
<span id="cb57-618"><a href="#cb57-618" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">mean =</span> <span class="fu">mean</span>(Spend, <span class="at">na.rm=</span><span class="cn">TRUE</span>))<span class="sc">%&gt;%</span></span>
<span id="cb57-619"><a href="#cb57-619" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(viewOfSpend <span class="sc">==</span> <span class="st">'MilitarySpend_currentUSD'</span>)<span class="sc">%&gt;%</span></span>
<span id="cb57-620"><a href="#cb57-620" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(mean))</span>
<span id="cb57-621"><a href="#cb57-621" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-622"><a href="#cb57-622" aria-hidden="true" tabindex="-1"></a>byRegionStats_year</span>
<span id="cb57-623"><a href="#cb57-623" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-624"><a href="#cb57-624" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-625"><a href="#cb57-625" aria-hidden="true" tabindex="-1"></a>byRegionplot<span class="ot">&lt;-</span> byRegionStats_year<span class="sc">%&gt;%</span></span>
<span id="cb57-626"><a href="#cb57-626" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="at">mapping=</span><span class="fu">aes</span>(<span class="at">x =</span> Year, <span class="at">y =</span> mean))<span class="sc">+</span>  </span>
<span id="cb57-627"><a href="#cb57-627" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">color =</span> Region, <span class="at">alpha=</span><span class="fl">0.9</span>,)) <span class="sc">+</span></span>
<span id="cb57-628"><a href="#cb57-628" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_light</span>() <span class="sc">+</span></span>
<span id="cb57-629"><a href="#cb57-629" aria-hidden="true" tabindex="-1"></a>  <span class="fu">guides</span>(<span class="at">alpha=</span><span class="st">"none"</span>) <span class="sc">+</span></span>
<span id="cb57-630"><a href="#cb57-630" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"East asia and NA dominate raw spend"</span> ,<span class="at">caption =</span> <span class="st">"Data from SPIRI Military Expediture Database"</span>)</span>
<span id="cb57-631"><a href="#cb57-631" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb57-632"><a href="#cb57-632" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-633"><a href="#cb57-633" aria-hidden="true" tabindex="-1"></a>byRegionplot</span>
<span id="cb57-634"><a href="#cb57-634" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-635"><a href="#cb57-635" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb57-636"><a href="#cb57-636" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-637"><a href="#cb57-637" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-638"><a href="#cb57-638" aria-hidden="true" tabindex="-1"></a><span class="fu">## To be a little less noisy, showing the top 6 spenders over time</span></span>
<span id="cb57-639"><a href="#cb57-639" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-640"><a href="#cb57-640" aria-hidden="true" tabindex="-1"></a><span class="in">```{r warning=FALSE,error=TRUE}</span></span>
<span id="cb57-641"><a href="#cb57-641" aria-hidden="true" tabindex="-1"></a>byRegionStats_year_top6<span class="ot">&lt;-</span>combinedData<span class="sc">%&gt;%</span></span>
<span id="cb57-642"><a href="#cb57-642" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Region,viewOfSpend,Year)<span class="sc">%&gt;%</span></span>
<span id="cb57-643"><a href="#cb57-643" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">mean =</span> <span class="fu">mean</span>(Spend, <span class="at">na.rm=</span><span class="cn">TRUE</span>))<span class="sc">%&gt;%</span></span>
<span id="cb57-644"><a href="#cb57-644" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(viewOfSpend <span class="sc">==</span> <span class="st">'MilitarySpend_currentUSD'</span>)<span class="sc">%&gt;%</span></span>
<span id="cb57-645"><a href="#cb57-645" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Region <span class="sc">==</span> top6_mean)<span class="sc">%&gt;%</span></span>
<span id="cb57-646"><a href="#cb57-646" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(mean))</span>
<span id="cb57-647"><a href="#cb57-647" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-648"><a href="#cb57-648" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-649"><a href="#cb57-649" aria-hidden="true" tabindex="-1"></a>byRegionplot_top6<span class="ot">&lt;-</span> byRegionStats_year_top6<span class="sc">%&gt;%</span></span>
<span id="cb57-650"><a href="#cb57-650" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="at">mapping=</span><span class="fu">aes</span>(<span class="at">x =</span> Year, <span class="at">y =</span> mean))<span class="sc">+</span>  </span>
<span id="cb57-651"><a href="#cb57-651" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">color =</span> Region, <span class="at">alpha=</span><span class="fl">0.9</span>,)) <span class="sc">+</span></span>
<span id="cb57-652"><a href="#cb57-652" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="fu">vars</span>(<span class="st">`</span><span class="at">Region</span><span class="st">`</span>),<span class="at">scales =</span> <span class="st">"free_y"</span>) <span class="sc">+</span></span>
<span id="cb57-653"><a href="#cb57-653" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Raw Mean Spend in USD for top 6 Spenders"</span> ,<span class="at">caption =</span> <span class="st">"Data from SPIRI Military Expediture Database"</span>)</span>
<span id="cb57-654"><a href="#cb57-654" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb57-655"><a href="#cb57-655" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-656"><a href="#cb57-656" aria-hidden="true" tabindex="-1"></a>byRegionplot_top6</span>
<span id="cb57-657"><a href="#cb57-657" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-658"><a href="#cb57-658" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb57-659"><a href="#cb57-659" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-660"><a href="#cb57-660" aria-hidden="true" tabindex="-1"></a>From here I choose to investigate Eastern Europe.</span>
<span id="cb57-661"><a href="#cb57-661" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-662"><a href="#cb57-662" aria-hidden="true" tabindex="-1"></a><span class="in">```{r warning=FALSE,error=TRUE}</span></span>
<span id="cb57-663"><a href="#cb57-663" aria-hidden="true" tabindex="-1"></a>byRegionStats_year_EasternEurope<span class="ot">&lt;-</span>combinedData<span class="sc">%&gt;%</span></span>
<span id="cb57-664"><a href="#cb57-664" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Region,viewOfSpend,Year)<span class="sc">%&gt;%</span></span>
<span id="cb57-665"><a href="#cb57-665" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(viewOfSpend <span class="sc">==</span> <span class="st">'MilitarySpend_currentUSD'</span>)<span class="sc">%&gt;%</span></span>
<span id="cb57-666"><a href="#cb57-666" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Region <span class="sc">==</span> <span class="st">'Eastern Europe'</span>)</span>
<span id="cb57-667"><a href="#cb57-667" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-668"><a href="#cb57-668" aria-hidden="true" tabindex="-1"></a>EasternEuropePlot<span class="ot">&lt;-</span> byRegionStats_year_EasternEurope<span class="sc">%&gt;%</span></span>
<span id="cb57-669"><a href="#cb57-669" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="at">mapping=</span><span class="fu">aes</span>(<span class="at">x =</span> Year, <span class="at">y =</span> Spend))<span class="sc">+</span>  </span>
<span id="cb57-670"><a href="#cb57-670" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">color =</span> Country, <span class="at">alpha=</span><span class="fl">0.9</span>)) <span class="sc">+</span></span>
<span id="cb57-671"><a href="#cb57-671" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="fu">vars</span>(<span class="st">`</span><span class="at">Country</span><span class="st">`</span>)) <span class="sc">+</span></span>
<span id="cb57-672"><a href="#cb57-672" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Raw Mean Spend in Eastern Europe"</span> ,<span class="at">caption =</span> <span class="st">"Data from SPIRI Military Expediture Database"</span>)</span>
<span id="cb57-673"><a href="#cb57-673" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb57-674"><a href="#cb57-674" aria-hidden="true" tabindex="-1"></a>EasternEuropePlot</span>
<span id="cb57-675"><a href="#cb57-675" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-676"><a href="#cb57-676" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb57-677"><a href="#cb57-677" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-678"><a href="#cb57-678" aria-hidden="true" tabindex="-1"></a>I left the scaling fixed so that you could see how high USSR spending was and then they become Russia and spend slowley increases but not to the levels of the USSR.</span>
<span id="cb57-679"><a href="#cb57-679" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-680"><a href="#cb57-680" aria-hidden="true" tabindex="-1"></a>We see here that USSR spending looks to be about late 1990s, following some research I found...</span>
<span id="cb57-681"><a href="#cb57-681" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-682"><a href="#cb57-682" aria-hidden="true" tabindex="-1"></a><span class="in">```{r warning=FALSE,error=TRUE}</span></span>
<span id="cb57-683"><a href="#cb57-683" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-684"><a href="#cb57-684" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-685"><a href="#cb57-685" aria-hidden="true" tabindex="-1"></a>startOfNoData<span class="ot">&lt;-</span> <span class="dv">1985</span></span>
<span id="cb57-686"><a href="#cb57-686" aria-hidden="true" tabindex="-1"></a>endofNoData<span class="ot">&lt;-</span> <span class="dv">1995</span></span>
<span id="cb57-687"><a href="#cb57-687" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-688"><a href="#cb57-688" aria-hidden="true" tabindex="-1"></a>USSRSpendPlot<span class="ot">&lt;-</span>combinedData<span class="sc">%&gt;%</span></span>
<span id="cb57-689"><a href="#cb57-689" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Country <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"USSR"</span>,<span class="st">"Russia"</span>))<span class="sc">%&gt;%</span></span>
<span id="cb57-690"><a href="#cb57-690" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(viewOfSpend <span class="sc">==</span> <span class="st">'MilitarySpend_currentUSD'</span>)<span class="sc">%&gt;%</span></span>
<span id="cb57-691"><a href="#cb57-691" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggplot</span>(<span class="at">mapping=</span><span class="fu">aes</span>( <span class="at">x =</span> Year,<span class="at">y =</span> Spend,<span class="at">color =</span> <span class="st">`</span><span class="at">Country</span><span class="st">`</span>))<span class="sc">+</span></span>
<span id="cb57-692"><a href="#cb57-692" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>()</span>
<span id="cb57-693"><a href="#cb57-693" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-694"><a href="#cb57-694" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-695"><a href="#cb57-695" aria-hidden="true" tabindex="-1"></a>USSRSpendPlot<span class="sc">+</span></span>
<span id="cb57-696"><a href="#cb57-696" aria-hidden="true" tabindex="-1"></a><span class="fu">geom_vline</span>(<span class="at">xintercept =</span> <span class="dv">1987</span>,<span class="at">color=</span><span class="st">"red"</span>)<span class="sc">+</span></span>
<span id="cb57-697"><a href="#cb57-697" aria-hidden="true" tabindex="-1"></a><span class="fu">annotate</span>(<span class="st">"text"</span>,<span class="at">x=</span><span class="dv">1987</span>,<span class="at">y=</span><span class="dv">0</span>,<span class="at">label=</span><span class="st">"1987"</span>,<span class="at">hjust=</span><span class="dv">1</span>,<span class="at">vjust=</span><span class="sc">-</span><span class="dv">0</span>,<span class="at">color=</span><span class="st">"red"</span>)<span class="sc">+</span></span>
<span id="cb57-698"><a href="#cb57-698" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb57-699"><a href="#cb57-699" aria-hidden="true" tabindex="-1"></a><span class="fu">geom_vline</span>(<span class="at">xintercept =</span> <span class="dv">1990</span>,<span class="at">color=</span><span class="st">"red"</span>)<span class="sc">+</span></span>
<span id="cb57-700"><a href="#cb57-700" aria-hidden="true" tabindex="-1"></a><span class="fu">annotate</span>(<span class="st">"text"</span>,<span class="at">x=</span><span class="dv">1990</span>,<span class="at">y=</span><span class="dv">0</span>,<span class="at">label=</span><span class="st">"1990"</span>,<span class="at">hjust=</span><span class="sc">-</span><span class="dv">0</span>,<span class="at">vjust=</span><span class="sc">-</span><span class="dv">0</span>,<span class="at">color=</span><span class="st">"red"</span>)<span class="sc">+</span></span>
<span id="cb57-701"><a href="#cb57-701" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-702"><a href="#cb57-702" aria-hidden="true" tabindex="-1"></a><span class="fu">geom_vline</span>(<span class="at">xintercept =</span> <span class="dv">1945</span>,<span class="at">color=</span><span class="st">"black"</span>)<span class="sc">+</span></span>
<span id="cb57-703"><a href="#cb57-703" aria-hidden="true" tabindex="-1"></a><span class="fu">annotate</span>(<span class="st">"text"</span>,<span class="at">x=</span><span class="dv">1945</span>,<span class="at">y=</span><span class="dv">0</span>,<span class="at">label=</span><span class="st">"Start of Cold War, Defeat of Germany and Japan"</span>,<span class="at">hjust=</span><span class="sc">-</span><span class="dv">0</span>,<span class="at">vjust=</span><span class="sc">-</span><span class="dv">0</span>,<span class="at">color=</span><span class="st">"black"</span>,<span class="at">angle=</span><span class="st">'90'</span>)<span class="sc">+</span></span>
<span id="cb57-704"><a href="#cb57-704" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb57-705"><a href="#cb57-705" aria-hidden="true" tabindex="-1"></a><span class="fu">geom_vline</span>(<span class="at">xintercept =</span> <span class="dv">1985</span>,<span class="at">color=</span><span class="st">"black"</span>)<span class="sc">+</span></span>
<span id="cb57-706"><a href="#cb57-706" aria-hidden="true" tabindex="-1"></a><span class="fu">annotate</span>(<span class="st">"text"</span>,<span class="at">x=</span><span class="dv">1985</span>,<span class="at">y=</span><span class="dv">0</span>,<span class="at">label=</span><span class="st">"Mikhail Gorbachev becomes leader of the USSR"</span>,<span class="at">hjust=</span><span class="sc">-</span><span class="fl">0.1</span>,<span class="at">vjust=</span><span class="sc">-</span><span class="dv">0</span>,<span class="at">color=</span><span class="st">"black"</span>,<span class="at">angle=</span><span class="st">'90'</span>)<span class="sc">+</span></span>
<span id="cb57-707"><a href="#cb57-707" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb57-708"><a href="#cb57-708" aria-hidden="true" tabindex="-1"></a><span class="fu">geom_vline</span>(<span class="at">xintercept =</span> <span class="dv">1991</span>,<span class="at">color=</span><span class="st">"black"</span>)<span class="sc">+</span></span>
<span id="cb57-709"><a href="#cb57-709" aria-hidden="true" tabindex="-1"></a><span class="fu">annotate</span>(<span class="st">"text"</span>,<span class="at">x=</span><span class="dv">1991</span>,<span class="at">y=</span><span class="dv">0</span>,<span class="at">label=</span><span class="st">"1991 End of Cold War, USSR disbanded"</span>,<span class="at">hjust=</span><span class="sc">-</span><span class="fl">0.1</span>,<span class="at">vjust=</span><span class="dv">1</span>,<span class="at">color=</span><span class="st">"black"</span>,<span class="at">angle=</span><span class="st">'90'</span>)</span>
<span id="cb57-710"><a href="#cb57-710" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-711"><a href="#cb57-711" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-712"><a href="#cb57-712" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-713"><a href="#cb57-713" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb57-714"><a href="#cb57-714" aria-hidden="true" tabindex="-1"></a>From this view of the information it leads one to believe the USSR spending was very high during the cold war, I am unsure why we were given access to their spending towards the end of the cold war, it could have been a show of good faith, more research to come. Once the war was declared over, Russian spending fell to 0 in the following year and slowly started creeping back up.</span>
<span id="cb57-715"><a href="#cb57-715" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-716"><a href="#cb57-716" aria-hidden="true" tabindex="-1"></a>Another area of research i get from this would be what happened in 2003- 2004 to spike the trend in Russian spending.</span>
<span id="cb57-717"><a href="#cb57-717" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-718"><a href="#cb57-718" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-719"><a href="#cb57-719" aria-hidden="true" tabindex="-1"></a><span class="fu">## HW Questions</span></span>
<span id="cb57-720"><a href="#cb57-720" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-721"><a href="#cb57-721" aria-hidden="true" tabindex="-1"></a><span class="fu">### what questions are left unanswered?</span></span>
<span id="cb57-722"><a href="#cb57-722" aria-hidden="true" tabindex="-1"></a>Russian spending during 2003-2004</span>
<span id="cb57-723"><a href="#cb57-723" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-724"><a href="#cb57-724" aria-hidden="true" tabindex="-1"></a>The rest of my outlined possible questions from HW2 will still be answered, their answer was just not obvious from the summary statistics.</span>
<span id="cb57-725"><a href="#cb57-725" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-726"><a href="#cb57-726" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-727"><a href="#cb57-727" aria-hidden="true" tabindex="-1"></a><span class="fu">### what may be unclear?</span></span>
<span id="cb57-728"><a href="#cb57-728" aria-hidden="true" tabindex="-1"></a>In order to improve some of these charts I could include some information about global spending at the time or perhaps augment the information to display it as a portion of global military spend? </span>
<span id="cb57-729"><a href="#cb57-729" aria-hidden="true" tabindex="-1"></a><span class="ss">  - </span>If i showed percent of global(or engaged parties) military spend it would be interesting to show if just spending more would win the wars.</span>
<span id="cb57-730"><a href="#cb57-730" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-731"><a href="#cb57-731" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-732"><a href="#cb57-732" aria-hidden="true" tabindex="-1"></a><span class="fu">### How could I improve these vizualizations</span></span>
<span id="cb57-733"><a href="#cb57-733" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-734"><a href="#cb57-734" aria-hidden="true" tabindex="-1"></a>I could change the view of some of these visualizations so that they are more appealing. I liked the use of the violin plot for the Gulf War analysis and will use more variety in graphs for the final.</span>
<span id="cb57-735"><a href="#cb57-735" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-736"><a href="#cb57-736" aria-hidden="true" tabindex="-1"></a><span class="fu">## Conclusion</span></span>
<span id="cb57-737"><a href="#cb57-737" aria-hidden="true" tabindex="-1"></a><span class="at">&gt; “Every gun that is made, every warship launched, every rocket fired signifies in the final sense, a theft from those who hunger and are not fed, those who are cold and are not clothed. &gt; &gt; This world in arms is not spending money alone. It is spending the sweat of its laborers, the genius of its scientists, the hopes of its children. This is not a way of life at all in any &gt; true sense. Under the clouds of war, it is humanity hanging on a cross of iron.”</span></span>
<span id="cb57-738"><a href="#cb57-738" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-739"><a href="#cb57-739" aria-hidden="true" tabindex="-1"></a>Dwight D. Eisenhower</span>
<span id="cb57-740"><a href="#cb57-740" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-741"><a href="#cb57-741" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-742"><a href="#cb57-742" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-743"><a href="#cb57-743" aria-hidden="true" tabindex="-1"></a>Citations:</span>
<span id="cb57-744"><a href="#cb57-744" aria-hidden="true" tabindex="-1"></a>https://www.goodreads.com/quotes/tag/military-budget#:~:text=%E2%80%9CEvery%20gun%20that%20is%20made,is%20not%20spending%20money%20alone.</span>
<span id="cb57-745"><a href="#cb57-745" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-746"><a href="#cb57-746" aria-hidden="true" tabindex="-1"></a>https://www.sipri.org/about</span>
<span id="cb57-747"><a href="#cb57-747" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-748"><a href="#cb57-748" aria-hidden="true" tabindex="-1"></a>R Core Team (2017). R: A language and environment for statistical computing. R Foundation for Statistical Computing, Vienna, Austria. URL https://www.R-project.org/.</span>
<span id="cb57-749"><a href="#cb57-749" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-750"><a href="#cb57-750" aria-hidden="true" tabindex="-1"></a>Wickham, H., &amp; Grolemund, G. (2016). R for data science: Visualize, model, transform, tidy, and import data. OReilly Media.</span>
<span id="cb57-751"><a href="#cb57-751" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-752"><a href="#cb57-752" aria-hidden="true" tabindex="-1"></a>https://www.investopedia.com/terms/g/gdp.asp</span>
<span id="cb57-753"><a href="#cb57-753" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-754"><a href="#cb57-754" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-755"><a href="#cb57-755" aria-hidden="true" tabindex="-1"></a>Appendix:</span>
<span id="cb57-756"><a href="#cb57-756" aria-hidden="true" tabindex="-1"></a>Full descriptions as provided by SIPRI:</span>
<span id="cb57-757"><a href="#cb57-757" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-758"><a href="#cb57-758" aria-hidden="true" tabindex="-1"></a><span class="ss">1. </span>Introduction</span>
<span id="cb57-759"><a href="#cb57-759" aria-hidden="true" tabindex="-1"></a><span class="ss">2. </span>Estimates of world, regional and sub-regional totals in constant (2019) US$ (billions).</span>
<span id="cb57-760"><a href="#cb57-760" aria-hidden="true" tabindex="-1"></a><span class="ss">3. </span>Data for military expenditure by country in current price local currency, presented according to each country's financial year.</span>
<span id="cb57-761"><a href="#cb57-761" aria-hidden="true" tabindex="-1"></a><span class="ss">4. </span>Data for military expenditure by country in current price local currency, presented according to calendar year.</span>
<span id="cb57-762"><a href="#cb57-762" aria-hidden="true" tabindex="-1"></a><span class="ss">5. </span>Data for military expenditure by country in constant price (2019) US$ (millions), presented according to calendar year, and in current US$m. for 2020.</span>
<span id="cb57-763"><a href="#cb57-763" aria-hidden="true" tabindex="-1"></a><span class="ss">6. </span>Data for military expenditure by country in current US$ (millions), presented according to calendar year.</span>
<span id="cb57-764"><a href="#cb57-764" aria-hidden="true" tabindex="-1"></a><span class="ss">7. </span>Data for military expenditure by country as a share of GDP, presented according to calendar year.</span>
<span id="cb57-765"><a href="#cb57-765" aria-hidden="true" tabindex="-1"></a><span class="ss">8. </span>Data for military expenditure per capita, in current US$, presented according to calender year. (1988-2020 only)</span>
<span id="cb57-766"><a href="#cb57-766" aria-hidden="true" tabindex="-1"></a><span class="ss">9. </span>Data for military expenditure as a percentage of general government expenditure. (1988-2020 only)</span>
<span id="cb57-767"><a href="#cb57-767" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-768"><a href="#cb57-768" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-769"><a href="#cb57-769" aria-hidden="true" tabindex="-1"></a></span>
</code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div></div></div></div></div>
</div> <!-- /content -->



<script src="../site_libs/quarto-html/zenscroll-min.js"></script>
</body></html>